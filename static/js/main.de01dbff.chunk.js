(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(9),a=r.n(n);async function i(e,t){const r=await e.get(t.toLowerCase());if(r){const e=new Blob([r],{type:"binary/octet-stream"}),n=URL.createObjectURL(e),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",t),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)}else console.error("File ".concat(t," does not exist"))}const o=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=(()=>t(n.result)),n.onerror=(()=>r(n.error)),n.onabort=(()=>r()),n.readAsArrayBuffer(e)});async function s(e){try{const e=new a.a("diablo_fs"),r=new Map;for(let[t,n]of Object.entries(await e.json()))r.set(t,n);return window.DownloadFile=(t=>i(e,t)),window.DownloadSaves=(()=>(async function(e){for(let t of await e.keys())t.match(/\.sv$/i)&&i(e,t)})(e)),{files:r,update:(t,r)=>e.set(t,r),delete:t=>e.remove(t),clear:()=>e.clear(),download:t=>i(e,t),upload:t=>(async function(e,t,r){const n=new Uint8Array(await o(r));return t.set(r.name.toLowerCase(),n),e.set(r.name.toLowerCase(),n)})(e,r,t),fileUrl:async t=>{const r=await e.get(t.toLowerCase());if(r){const e=new Blob([r],{type:"binary/octet-stream"});return URL.createObjectURL(e)}}}}catch(t){return window.DownloadFile=(()=>console.error("IndexedDB is not supported")),window.DownloadSaves=(()=>console.error("IndexedDB is not supported")),{files:new Map,update:()=>Promise.resolve(),delete:()=>Promise.resolve(),clear:()=>Promise.resolve(),download:()=>Promise.resolve(),upload:()=>Promise.resolve(),fileUrl:()=>Promise.resolve()}}}},,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports={ui:{loading:"Loading...",manageSaves:"Manage Saves",uploadSave:"Upload Save",back:"Back",selectMPQ:"Select MPQ",playShareware:"Play Shareware",downloadSave:"Download save file",deleteSave:"Are you sure you want to delete {fileName}?",language:"Language"},intro:{description:"This is a web port of the original Diablo game, based on source code reconstructed by GalaXyHaXz and devilution team. The project page with information and links can be found over here",gameOwnership:"If you own the original game, you can drop the original DIABDAT.MPQ onto this page or click the button below to start playing. The game can be purchased from",purchaseComplete:".",compressionOption:"Click here to compress the MPQ, greatly reducing its size.",sharewareOption:"Or you can play the shareware version for free (web-optimized, ~25MB download)."},errors:{errorOccurred:"The following error has occurred:",createIssue:"Click to create an issue on GitHub",invalidMPQ:"Please select an MPQ file. If you downloaded the installer from GoG, you will need to install it on PC and use the MPQ file from the installation folder."},playerClass:{0:"Warrior",1:"Rogue",2:"Sorcerer"},compression:{description:"You can use this tool to reduce the original MPQ to about half its size. It encodes sounds in MP3 format and uses better compression for regular files. To begin, click the button below or drop the MPQ onto the page.",processing:"Processing...",downloadPrompt:"Click here if download doesn't start."},progress:{loading:"Loading...",processing:"Processing...",initializing:"Initializing...",downloading:"Downloading..."}}},function(e){e.exports={ui:{loading:"\u8f09\u5165\u4e2d...",manageSaves:"\u7ba1\u7406\u5b58\u6a94",uploadSave:"\u4e0a\u50b3\u5b58\u6a94",back:"\u8fd4\u56de",selectMPQ:"\u9078\u64c7 MPQ \u6a94\u6848",playShareware:"\u8a66\u73a9\u514d\u8cbb\u7248",downloadSave:"\u4e0b\u8f09\u5b58\u6a94\u6a94\u6848",deleteSave:"\u78ba\u5b9a\u8981\u522a\u9664 {fileName} \u55ce\uff1f",language:"\u8a9e\u8a00"},intro:{description:"\u9019\u662f\u539f\u7248\u6697\u9ed1\u7834\u58de\u795e\u904a\u6232\u7684\u7db2\u9801\u79fb\u690d\u7248\uff0c\u57fa\u65bc GalaXyHaXz \u548c devilution \u5718\u968a\u91cd\u69cb\u7684\u539f\u59cb\u78bc\u958b\u767c\u3002\u5c08\u6848\u9801\u9762\u53ca\u76f8\u95dc\u8cc7\u8a0a\u548c\u9023\u7d50\u53ef\u4ee5\u5728\u9019\u88e1\u627e\u5230",gameOwnership:"\u5982\u679c\u60a8\u64c1\u6709\u539f\u7248\u904a\u6232\uff0c\u53ef\u4ee5\u5c07\u539f\u7248\u7684 DIABDAT.MPQ \u6a94\u6848\u62d6\u66f3\u5230\u6b64\u9801\u9762\u4e0a\uff0c\u6216\u9ede\u64ca\u4e0b\u65b9\u6309\u9215\u958b\u59cb\u904a\u73a9\u3002\u60a8\u53ef\u4ee5\u5f9e",purchaseComplete:"\u8cfc\u8cb7\u904a\u6232\u3002",compressionOption:"\u9ede\u64ca\u9019\u88e1\u58d3\u7e2e MPQ \u6a94\u6848\uff0c\u5927\u5e45\u7e2e\u6e1b\u6a94\u6848\u5927\u5c0f\u3002",sharewareOption:"\u6216\u8005\u60a8\u53ef\u4ee5\u514d\u8cbb\u8a66\u73a9\u5171\u4eab\u7248\u672c\uff08\u5df2\u58d3\u7e2e\u6210\u7db2\u9801\u5c08\u7528\u7248\u7d04 25MB\uff09\u3002"},errors:{errorOccurred:"\u767c\u751f\u4ee5\u4e0b\u932f\u8aa4\uff1a",createIssue:"\u9ede\u64ca\u5728 GitHub \u4e0a\u5efa\u7acb\u554f\u984c\u56de\u5831",invalidMPQ:"\u8acb\u9078\u64c7\u4e00\u500b MPQ \u6a94\u6848\u3002\u5982\u679c\u60a8\u5f9e GoG \u4e0b\u8f09\u5b89\u88dd\u7a0b\u5f0f\uff0c\u9700\u8981\u5148\u5728 PC \u4e0a\u5b89\u88dd\uff0c\u7136\u5f8c\u4f7f\u7528\u5b89\u88dd\u8cc7\u6599\u593e\u4e2d\u7684 MPQ \u6a94\u6848\u3002"},playerClass:{0:"\u6230\u58eb",1:"\u76dc\u8cca",2:"\u6cd5\u5e2b"},compression:{description:"\u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u5de5\u5177\u5c07\u539f\u59cb MPQ \u6a94\u6848\u7e2e\u5c0f\u5230\u7d04\u4e00\u534a\u5927\u5c0f\u3002\u5b83\u5c07\u97f3\u6548\u7de8\u78bc\u70ba MP3 \u683c\u5f0f\uff0c\u4e26\u5c0d\u4e00\u822c\u6a94\u6848\u4f7f\u7528\u66f4\u597d\u7684\u58d3\u7e2e\u6f14\u7b97\u6cd5\u3002\u8981\u958b\u59cb\u4f7f\u7528\uff0c\u8acb\u9ede\u64ca\u4e0b\u65b9\u6309\u9215\u6216\u5c07 MPQ \u6a94\u6848\u62d6\u66f3\u5230\u9801\u9762\u4e0a\u3002",processing:"\u8655\u7406\u4e2d...",downloadPrompt:"\u5982\u679c\u4e0b\u8f09\u6c92\u6709\u81ea\u52d5\u958b\u59cb\uff0c\u8acb\u9ede\u64ca\u9019\u88e1\u3002"},progress:{loading:"\u8f09\u5165\u4e2d...",processing:"\u8655\u7406\u4e2d...",initializing:"\u521d\u59cb\u5316\u4e2d...",downloading:"\u4e0b\u8f09\u4e2d..."}}},function(e){e.exports={ui:{loading:"\u52a0\u8f7d\u4e2d...",manageSaves:"\u7ba1\u7406\u5b58\u6863",uploadSave:"\u4e0a\u4f20\u5b58\u6863",back:"\u8fd4\u56de",selectMPQ:"\u9009\u62e9 MPQ \u6587\u4ef6",playShareware:"\u8bd5\u73a9\u514d\u8d39\u7248",downloadSave:"\u4e0b\u8f7d\u5b58\u6863\u6587\u4ef6",deleteSave:"\u786e\u5b9a\u8981\u5220\u9664 {fileName} \u5417\uff1f",language:"\u8bed\u8a00"},intro:{description:"\u8fd9\u662f\u539f\u7248\u6697\u9ed1\u7834\u574f\u795e\u6e38\u620f\u7684\u7f51\u9875\u79fb\u690d\u7248\uff0c\u57fa\u4e8e GalaXyHaXz \u548c devilution \u56e2\u961f\u91cd\u6784\u7684\u6e90\u4ee3\u7801\u5f00\u53d1\u3002\u9879\u76ee\u9875\u9762\u53ca\u76f8\u5173\u4fe1\u606f\u548c\u94fe\u63a5\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230",gameOwnership:"\u5982\u679c\u60a8\u62e5\u6709\u539f\u7248\u6e38\u620f\uff0c\u53ef\u4ee5\u5c06\u539f\u7248\u7684 DIABDAT.MPQ \u6587\u4ef6\u62d6\u62fd\u5230\u6b64\u9875\u9762\u4e0a\uff0c\u6216\u70b9\u51fb\u4e0b\u65b9\u6309\u94ae\u5f00\u59cb\u6e38\u73a9\u3002\u60a8\u53ef\u4ee5\u4ece",purchaseComplete:"\u8d2d\u4e70\u6e38\u620f\u3002",compressionOption:"\u70b9\u51fb\u8fd9\u91cc\u538b\u7f29 MPQ \u6587\u4ef6\uff0c\u5927\u5e45\u7f29\u51cf\u6587\u4ef6\u5927\u5c0f\u3002",sharewareOption:"\u6216\u8005\u60a8\u53ef\u4ee5\u514d\u8d39\u8bd5\u73a9\u5171\u4eab\u7248\u672c\uff08\u5df2\u538b\u7f29\u6210\u7f51\u9875\u4e13\u7528\u7248\u7ea6 25MB\uff09\u3002"},errors:{errorOccurred:"\u53d1\u751f\u4ee5\u4e0b\u9519\u8bef\uff1a",createIssue:"\u70b9\u51fb\u5728 GitHub \u4e0a\u521b\u5efa\u95ee\u9898\u62a5\u544a",invalidMPQ:"\u8bf7\u9009\u62e9\u4e00\u4e2a MPQ \u6587\u4ef6\u3002\u5982\u679c\u60a8\u4ece GoG \u4e0b\u8f7d\u5b89\u88c5\u7a0b\u5e8f\uff0c\u9700\u8981\u5148\u5728 PC \u4e0a\u5b89\u88c5\uff0c\u7136\u540e\u4f7f\u7528\u5b89\u88c5\u6587\u4ef6\u5939\u4e2d\u7684 MPQ \u6587\u4ef6\u3002"},playerClass:{0:"\u6218\u58eb",1:"\u76d7\u8d3c",2:"\u6cd5\u5e08"},compression:{description:"\u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u5de5\u5177\u5c06\u539f\u59cb MPQ \u6587\u4ef6\u7f29\u5c0f\u5230\u7ea6\u4e00\u534a\u5927\u5c0f\u3002\u5b83\u5c06\u97f3\u6548\u7f16\u7801\u4e3a MP3 \u683c\u5f0f\uff0c\u5e76\u5bf9\u4e00\u822c\u6587\u4ef6\u4f7f\u7528\u66f4\u597d\u7684\u538b\u7f29\u7b97\u6cd5\u3002\u8981\u5f00\u59cb\u4f7f\u7528\uff0c\u8bf7\u70b9\u51fb\u4e0b\u65b9\u6309\u94ae\u6216\u5c06 MPQ \u6587\u4ef6\u62d6\u62fd\u5230\u9875\u9762\u4e0a\u3002",processing:"\u5904\u7406\u4e2d...",downloadPrompt:"\u5982\u679c\u4e0b\u8f7d\u6ca1\u6709\u81ea\u52a8\u5f00\u59cb\uff0c\u8bf7\u70b9\u51fb\u8fd9\u91cc\u3002"},progress:{loading:"\u52a0\u8f7d\u4e2d...",processing:"\u5904\u7406\u4e2d...",initializing:"\u521d\u59cb\u5316\u4e2d...",downloading:"\u4e0b\u8f7d\u4e2d..."}}},function(e){e.exports={ui:{loading:"\u8aad\u307f\u8fbc\u307f\u4e2d...",manageSaves:"\u30bb\u30fc\u30d6\u30c7\u30fc\u30bf\u7ba1\u7406",uploadSave:"\u30bb\u30fc\u30d6\u30c7\u30fc\u30bf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",back:"\u623b\u308b",selectMPQ:"MPQ\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e",playShareware:"\u7121\u6599\u7248\u3092\u30d7\u30ec\u30a4",downloadSave:"\u30bb\u30fc\u30d6\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",deleteSave:"{fileName} \u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",language:"\u8a00\u8a9e"},intro:{description:"\u3053\u308c\u306f\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u30c7\u30a3\u30a2\u30d6\u30ed\u30b2\u30fc\u30e0\u306e\u30a6\u30a7\u30d6\u79fb\u690d\u7248\u3067\u3001GalaXyHaXz\u3068devilution\u30c1\u30fc\u30e0\u306b\u3088\u3063\u3066\u518d\u69cb\u7bc9\u3055\u308c\u305f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u57fa\u306b\u958b\u767a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30da\u30fc\u30b8\u3068\u60c5\u5831\u30fb\u30ea\u30f3\u30af\u306f\u3053\u3061\u3089\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059",gameOwnership:"\u30aa\u30ea\u30b8\u30ca\u30eb\u30b2\u30fc\u30e0\u3092\u304a\u6301\u3061\u306e\u5834\u5408\u306f\u3001\u30aa\u30ea\u30b8\u30ca\u30eb\u306eDIABDAT.MPQ\u30d5\u30a1\u30a4\u30eb\u3092\u3053\u306e\u30da\u30fc\u30b8\u306b\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u304b\u3001\u4e0b\u306e\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30d7\u30ec\u30a4\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\u3002\u30b2\u30fc\u30e0\u306f",purchaseComplete:"\u304b\u3089\u8cfc\u5165\u3067\u304d\u307e\u3059\u3002",compressionOption:"\u3053\u3061\u3089\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066MPQ\u30d5\u30a1\u30a4\u30eb\u3092\u5727\u7e2e\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u3092\u5927\u5e45\u306b\u524a\u6e1b\u3067\u304d\u307e\u3059\u3002",sharewareOption:"\u307e\u305f\u306f\u3001\u7121\u6599\u306e\u30b7\u30a7\u30a2\u30a6\u30a7\u30a2\u7248\u3092\u30d7\u30ec\u30a4\u3067\u304d\u307e\u3059\uff08\u30a6\u30a7\u30d6\u6700\u9069\u5316\u7248\u3001\u7d0425MB\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\uff09\u3002"},errors:{errorOccurred:"\u6b21\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\uff1a",createIssue:"GitHub\u3067issue\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u30af\u30ea\u30c3\u30af",invalidMPQ:"MPQ\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002GoG\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u30fc\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u5834\u5408\u306f\u3001PC\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d5\u30a9\u30eb\u30c0\u306eMPQ\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"},playerClass:{0:"\u30a6\u30a9\u30ea\u30a2\u30fc",1:"\u30ed\u30fc\u30b0",2:"\u30bd\u30fc\u30b5\u30e9\u30fc"},compression:{description:"\u3053\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001\u30aa\u30ea\u30b8\u30ca\u30eb\u306eMPQ\u30d5\u30a1\u30a4\u30eb\u3092\u7d04\u534a\u5206\u306e\u30b5\u30a4\u30ba\u306b\u7e2e\u5c0f\u3067\u304d\u307e\u3059\u3002\u97f3\u58f0\u3092MP3\u5f62\u5f0f\u3067\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u3001\u901a\u5e38\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3088\u308a\u826f\u3044\u5727\u7e2e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u958b\u59cb\u3059\u308b\u306b\u306f\u3001\u4e0b\u306e\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u304b\u3001MPQ\u30d5\u30a1\u30a4\u30eb\u3092\u30da\u30fc\u30b8\u306b\u30c9\u30e9\u30c3\u30b0\u3057\u3066\u304f\u3060\u3055\u3044\u3002",processing:"\u51e6\u7406\u4e2d...",downloadPrompt:"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u958b\u59cb\u3055\u308c\u306a\u3044\u5834\u5408\u306f\u3001\u3053\u3061\u3089\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},progress:{loading:"\u8aad\u307f\u8fbc\u307f\u4e2d...",processing:"\u51e6\u7406\u4e2d...",initializing:"\u521d\u671f\u5316\u4e2d...",downloading:"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u4e2d..."}}},function(e){e.exports={ui:{loading:"\ub85c\ub529 \uc911...",manageSaves:"\uc138\uc774\ube0c \uad00\ub9ac",uploadSave:"\uc138\uc774\ube0c \uc5c5\ub85c\ub4dc",back:"\ub4a4\ub85c",selectMPQ:"MPQ \ud30c\uc77c \uc120\ud0dd",playShareware:"\ubb34\ub8cc \ubc84\uc804 \ud50c\ub808\uc774",downloadSave:"\uc138\uc774\ube0c \ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc",deleteSave:"{fileName}\uc744(\ub97c) \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",language:"\uc5b8\uc5b4"},intro:{description:"\uc774\uac83\uc740 \uc6d0\ubcf8 \ub514\uc544\ube14\ub85c \uac8c\uc784\uc758 \uc6f9 \ud3ec\ud2b8 \ubc84\uc804\uc73c\ub85c, GalaXyHaXz\uc640 devilution \ud300\uc774 \uc7ac\uad6c\uc131\ud55c \uc18c\uc2a4 \ucf54\ub4dc\ub97c \uae30\ubc18\uc73c\ub85c \uac1c\ubc1c\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ud504\ub85c\uc81d\ud2b8 \ud398\uc774\uc9c0\uc640 \uc815\ubcf4 \ubc0f \ub9c1\ud06c\ub294 \uc5ec\uae30\uc5d0\uc11c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4",gameOwnership:"\uc6d0\ubcf8 \uac8c\uc784\uc744 \uc18c\uc720\ud558\uace0 \uacc4\uc2dc\ub2e4\uba74, \uc6d0\ubcf8 DIABDAT.MPQ \ud30c\uc77c\uc744 \uc774 \ud398\uc774\uc9c0\uc5d0 \ub4dc\ub798\uadf8\ud558\uac70\ub098 \uc544\ub798 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc5ec \ud50c\ub808\uc774\ub97c \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uac8c\uc784\uc740",purchaseComplete:"\uc5d0\uc11c \uad6c\ub9e4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",compressionOption:"\uc5ec\uae30\ub97c \ud074\ub9ad\ud558\uc5ec MPQ \ud30c\uc77c\uc744 \uc555\ucd95\ud558\uace0 \ud30c\uc77c \ud06c\uae30\ub97c \ud06c\uac8c \uc904\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4.",sharewareOption:"\ub610\ub294 \ubb34\ub8cc \uc170\uc5b4\uc6e8\uc5b4 \ubc84\uc804\uc744 \ud50c\ub808\uc774\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4 (\uc6f9 \ucd5c\uc801\ud654 \ubc84\uc804, \uc57d 25MB \ub2e4\uc6b4\ub85c\ub4dc)."},errors:{errorOccurred:"\ub2e4\uc74c \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4:",createIssue:"GitHub\uc5d0\uc11c \uc774\uc288\ub97c \uc0dd\uc131\ud558\ub824\uba74 \ud074\ub9ad",invalidMPQ:"MPQ \ud30c\uc77c\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694. GoG\uc5d0\uc11c \uc124\uce58 \ud504\ub85c\uadf8\ub7a8\uc744 \ub2e4\uc6b4\ub85c\ub4dc\ud55c \uacbd\uc6b0, PC\uc5d0 \uc124\uce58\ud55c \ud6c4 \uc124\uce58 \ud3f4\ub354\uc758 MPQ \ud30c\uc77c\uc744 \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4."},playerClass:{0:"\uc804\uc0ac",1:"\ub3c4\uc801",2:"\ub9c8\ubc95\uc0ac"},compression:{description:"\uc774 \ub3c4\uad6c\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc6d0\ubcf8 MPQ \ud30c\uc77c\uc744 \uc57d \uc808\ubc18 \ud06c\uae30\ub85c \uc904\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc0ac\uc6b4\ub4dc\ub97c MP3 \ud615\uc2dd\uc73c\ub85c \uc778\ucf54\ub529\ud558\uace0 \uc77c\ubc18 \ud30c\uc77c\uc5d0 \ub354 \ub098\uc740 \uc555\ucd95 \uc54c\uace0\ub9ac\uc998\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \uc2dc\uc791\ud558\ub824\uba74 \uc544\ub798 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uac70\ub098 MPQ \ud30c\uc77c\uc744 \ud398\uc774\uc9c0\uc5d0 \ub4dc\ub798\uadf8\ud558\uc138\uc694.",processing:"\ucc98\ub9ac \uc911...",downloadPrompt:"\ub2e4\uc6b4\ub85c\ub4dc\uac00 \uc2dc\uc791\ub418\uc9c0 \uc54a\uc73c\uba74 \uc5ec\uae30\ub97c \ud074\ub9ad\ud558\uc138\uc694."},progress:{loading:"\ub85c\ub529 \uc911...",processing:"\ucc98\ub9ac \uc911...",initializing:"\ucd08\uae30\ud654 \uc911...",downloading:"\ub2e4\uc6b4\ub85c\ub4dc \uc911..."}}},function(e){e.exports={ui:{loading:"Laden...",manageSaves:"Spielst\xe4nde verwalten",uploadSave:"Spielstand hochladen",back:"Zur\xfcck",selectMPQ:"MPQ-Datei ausw\xe4hlen",playShareware:"Shareware spielen",downloadSave:"Spielstand herunterladen",deleteSave:"Sind Sie sicher, dass Sie {fileName} l\xf6schen m\xf6chten?",language:"Sprache"},intro:{description:"Dies ist eine Webportierung des urspr\xfcnglichen Diablo-Spiels, basierend auf dem von GalaXyHaXz und dem devilution-Team rekonstruierten Quellcode. Die Projektseite mit Informationen und Links finden Sie hier",gameOwnership:"Wenn Sie das urspr\xfcngliche Spiel besitzen, k\xf6nnen Sie die urspr\xfcngliche DIABDAT.MPQ-Datei auf diese Seite ziehen oder auf die Schaltfl\xe4che unten klicken, um zu spielen. Das Spiel kann erworben werden bei",purchaseComplete:".",compressionOption:"Klicken Sie hier, um die MPQ zu komprimieren und die Dateigr\xf6\xdfe erheblich zu reduzieren.",sharewareOption:"Oder Sie k\xf6nnen die Shareware-Version kostenlos spielen (weboptimiert, ~25MB Download)."},errors:{errorOccurred:"Folgender Fehler ist aufgetreten:",createIssue:"Klicken Sie hier, um ein Issue auf GitHub zu erstellen",invalidMPQ:"Bitte w\xe4hlen Sie eine MPQ-Datei aus. Wenn Sie den Installer von GoG heruntergeladen haben, m\xfcssen Sie ihn auf dem PC installieren und die MPQ-Datei aus dem Installationsordner verwenden."},playerClass:{0:"Krieger",1:"Schurke",2:"Zauberer"},compression:{description:"Sie k\xf6nnen dieses Tool verwenden, um die urspr\xfcngliche MPQ auf etwa die H\xe4lfte ihrer Gr\xf6\xdfe zu reduzieren. Es kodiert Sounds im MP3-Format und verwendet bessere Kompression f\xfcr normale Dateien. Klicken Sie unten auf die Schaltfl\xe4che oder ziehen Sie die MPQ auf die Seite, um zu beginnen.",processing:"Verarbeitung...",downloadPrompt:"Klicken Sie hier, wenn der Download nicht startet."},progress:{loading:"Laden...",processing:"Verarbeitung...",initializing:"Initialisierung...",downloading:"Herunterladen..."}}},function(e){e.exports={ui:{loading:"Cargando...",manageSaves:"Gestionar Partidas",uploadSave:"Subir Partida",back:"Atr\xe1s",selectMPQ:"Seleccionar MPQ",playShareware:"Jugar Shareware",downloadSave:"Descargar archivo de guardado",deleteSave:"\xbfEst\xe1s seguro de que quieres eliminar {fileName}?",language:"Idioma"},intro:{description:"Esta es una adaptaci\xf3n web del juego original Diablo, basada en el c\xf3digo fuente reconstruido por GalaXyHaXz y el equipo de devilution. La p\xe1gina del proyecto con informaci\xf3n y enlaces se puede encontrar aqu\xed",gameOwnership:"Si posees el juego original, puedes arrastrar el DIABDAT.MPQ original a esta p\xe1gina o hacer clic en el bot\xf3n de abajo para empezar a jugar. El juego se puede comprar en",purchaseComplete:".",compressionOption:"Haz clic aqu\xed para comprimir el MPQ, reduciendo considerablemente su tama\xf1o.",sharewareOption:"O puedes jugar la versi\xf3n shareware gratis (optimizada para web, descarga de ~25MB)."},errors:{errorOccurred:"Ha ocurrido el siguiente error:",createIssue:"Haz clic para crear un issue en GitHub",invalidMPQ:"Por favor selecciona un archivo MPQ. Si descargaste el instalador de GoG, necesitar\xe1s instalarlo en PC y usar el archivo MPQ de la carpeta de instalaci\xf3n."},playerClass:{0:"Guerrero",1:"P\xedcaro",2:"Hechicero"},compression:{description:"Puedes usar esta herramienta para reducir el MPQ original a aproximadamente la mitad de su tama\xf1o. Codifica los sonidos en formato MP3 y usa mejor compresi\xf3n para archivos regulares. Para empezar, haz clic en el bot\xf3n de abajo o arrastra el MPQ a la p\xe1gina.",processing:"Procesando...",downloadPrompt:"Haz clic aqu\xed si la descarga no comienza."},progress:{loading:"Cargando...",processing:"Procesando...",initializing:"Inicializando...",downloading:"Descargando..."}}},function(e){e.exports={ui:{loading:"Chargement...",manageSaves:"G\xe9rer les Sauvegardes",uploadSave:"T\xe9l\xe9verser une Sauvegarde",back:"Retour",selectMPQ:"S\xe9lectionner MPQ",playShareware:"Jouer Shareware",downloadSave:"T\xe9l\xe9charger le fichier de sauvegarde",deleteSave:"\xcates-vous s\xfbr de vouloir supprimer {fileName} ?",language:"Langue"},intro:{description:"Ceci est un portage web du jeu Diablo original, bas\xe9 sur le code source reconstruit par GalaXyHaXz et l'\xe9quipe devilution. La page du projet avec les informations et liens peut \xeatre trouv\xe9e ici",gameOwnership:"Si vous poss\xe9dez le jeu original, vous pouvez faire glisser le DIABDAT.MPQ original sur cette page ou cliquer sur le bouton ci-dessous pour commencer \xe0 jouer. Le jeu peut \xeatre achet\xe9 sur",purchaseComplete:".",compressionOption:"Cliquez ici pour comprimer le MPQ, r\xe9duisant consid\xe9rablement sa taille.",sharewareOption:"Ou vous pouvez jouer gratuitement \xe0 la version shareware (optimis\xe9e web, t\xe9l\xe9chargement ~25MB)."},errors:{errorOccurred:"L'erreur suivante s'est produite :",createIssue:"Cliquez pour cr\xe9er un probl\xe8me sur GitHub",invalidMPQ:"Veuillez s\xe9lectionner un fichier MPQ. Si vous avez t\xe9l\xe9charg\xe9 l'installateur de GoG, vous devrez l'installer sur PC et utiliser le fichier MPQ du dossier d'installation."},playerClass:{0:"Guerrier",1:"Voleur",2:"Sorcier"},compression:{description:"Vous pouvez utiliser cet outil pour r\xe9duire le MPQ original \xe0 environ la moiti\xe9 de sa taille. Il encode les sons au format MP3 et utilise une meilleure compression pour les fichiers normaux. Pour commencer, cliquez sur le bouton ci-dessous ou faites glisser le MPQ sur la page.",processing:"Traitement...",downloadPrompt:"Cliquez ici si le t\xe9l\xe9chargement ne commence pas."},progress:{loading:"Chargement...",processing:"Traitement...",initializing:"Initialisation...",downloading:"T\xe9l\xe9chargement..."}}},function(e){e.exports={ui:{loading:"Caricamento...",manageSaves:"Gestisci Salvataggi",uploadSave:"Carica Salvataggio",back:"Indietro",selectMPQ:"Seleziona MPQ",playShareware:"Gioca Shareware",downloadSave:"Scarica file di salvataggio",deleteSave:"Sei sicuro di voler eliminare {fileName}?",language:"Lingua"},intro:{description:"Questo \xe8 un porting web del gioco Diablo originale, basato sul codice sorgente ricostruito da GalaXyHaXz e dal team devilution. La pagina del progetto con informazioni e link pu\xf2 essere trovata qui",gameOwnership:"Se possiedi il gioco originale, puoi trascinare l'originale DIABDAT.MPQ su questa pagina o cliccare il pulsante qui sotto per iniziare a giocare. Il gioco pu\xf2 essere acquistato da",purchaseComplete:".",compressionOption:"Clicca qui per comprimere l'MPQ, riducendo notevolmente le sue dimensioni.",sharewareOption:"Oppure puoi giocare gratuitamente alla versione shareware (ottimizzata per web, download ~25MB)."},errors:{errorOccurred:"Si \xe8 verificato il seguente errore:",createIssue:"Clicca per creare un issue su GitHub",invalidMPQ:"Seleziona un file MPQ. Se hai scaricato l'installer da GoG, dovrai installarlo su PC e utilizzare il file MPQ dalla cartella di installazione."},playerClass:{0:"Guerriero",1:"Ladro",2:"Stregone"},compression:{description:"Puoi usare questo strumento per ridurre l'MPQ originale a circa la met\xe0 delle sue dimensioni. Codifica i suoni in formato MP3 e usa una migliore compressione per i file normali. Per iniziare, clicca il pulsante qui sotto o trascina l'MPQ sulla pagina.",processing:"Elaborazione...",downloadPrompt:"Clicca qui se il download non inizia."},progress:{loading:"Caricamento...",processing:"Elaborazione...",initializing:"Inizializzazione...",downloading:"Scaricamento..."}}},function(e){e.exports={ui:{loading:"Carregando...",manageSaves:"Gerenciar Saves",uploadSave:"Enviar Save",back:"Voltar",selectMPQ:"Selecionar MPQ",playShareware:"Jogar Shareware",downloadSave:"Baixar arquivo de save",deleteSave:"Tem certeza que deseja excluir {fileName}?",language:"Idioma"},intro:{description:"Esta \xe9 uma adapta\xe7\xe3o web do jogo Diablo original, baseada no c\xf3digo fonte reconstru\xeddo por GalaXyHaXz e equipe devilution. A p\xe1gina do projeto com informa\xe7\xf5es e links pode ser encontrada aqui",gameOwnership:"Se voc\xea possui o jogo original, pode arrastar o DIABDAT.MPQ original para esta p\xe1gina ou clicar no bot\xe3o abaixo para come\xe7ar a jogar. O jogo pode ser comprado em",purchaseComplete:".",compressionOption:"Clique aqui para comprimir o MPQ, reduzindo significativamente seu tamanho.",sharewareOption:"Ou voc\xea pode jogar a vers\xe3o shareware gratuitamente (otimizada para web, download ~25MB)."},errors:{errorOccurred:"Ocorreu o seguinte erro:",createIssue:"Clique para criar um issue no GitHub",invalidMPQ:"Por favor selecione um arquivo MPQ. Se voc\xea baixou o instalador do GoG, precisar\xe1 instal\xe1-lo no PC e usar o arquivo MPQ da pasta de instala\xe7\xe3o."},playerClass:{0:"Guerreiro",1:"Ladino",2:"Feiticeiro"},compression:{description:"Voc\xea pode usar esta ferramenta para reduzir o MPQ original para cerca de metade do seu tamanho. Ela codifica sons no formato MP3 e usa melhor compress\xe3o para arquivos normais. Para come\xe7ar, clique no bot\xe3o abaixo ou arraste o MPQ para a p\xe1gina.",processing:"Processando...",downloadPrompt:"Clique aqui se o download n\xe3o iniciar."},progress:{loading:"Carregando...",processing:"Processando...",initializing:"Inicializando...",downloading:"Baixando..."}}},function(e){e.exports={ui:{loading:"Laden...",manageSaves:"Saves Beheren",uploadSave:"Save Uploaden",back:"Terug",selectMPQ:"Selecteer MPQ",playShareware:"Speel Shareware",downloadSave:"Save-bestand downloaden",deleteSave:"Weet je zeker dat je {fileName} wilt verwijderen?",language:"Taal"},intro:{description:"Dit is een webversie van het originele Diablo-spel, gebaseerd op de broncode gereconstrueerd door GalaXyHaXz en het devilution-team. De projectpagina met informatie en links kan hier gevonden worden",gameOwnership:"Als je het originele spel bezit, kun je het originele DIABDAT.MPQ-bestand naar deze pagina slepen of op de knop hieronder klikken om te beginnen met spelen. Het spel kan gekocht worden bij",purchaseComplete:".",compressionOption:"Klik hier om de MPQ te comprimeren, wat de bestandsgrootte aanzienlijk reduceert.",sharewareOption:"Of je kunt gratis de shareware-versie spelen (geoptimaliseerd voor web, ~25MB download)."},errors:{errorOccurred:"De volgende fout is opgetreden:",createIssue:"Klik om een issue aan te maken op GitHub",invalidMPQ:"Selecteer een MPQ-bestand. Als je de installer van GoG hebt gedownload, moet je deze op de PC installeren en het MPQ-bestand uit de installatiemap gebruiken."},playerClass:{0:"Krijger",1:"Schurk",2:"Tovenaar"},compression:{description:"Je kunt deze tool gebruiken om de originele MPQ te verkleinen tot ongeveer de helft van de grootte. Het codeert geluiden in MP3-formaat en gebruikt betere compressie voor normale bestanden. Om te beginnen, klik op de knop hieronder of sleep de MPQ naar de pagina.",processing:"Verwerken...",downloadPrompt:"Klik hier als de download niet start."},progress:{loading:"Laden...",processing:"Verwerken...",initializing:"Initialiseren...",downloading:"Downloaden..."}}},function(e){e.exports={ui:{loading:"Laddar...",manageSaves:"Hantera Sparfiler",uploadSave:"Ladda upp Sparfil",back:"Tillbaka",selectMPQ:"V\xe4lj MPQ",playShareware:"Spela Shareware",downloadSave:"Ladda ner sparfil",deleteSave:"\xc4r du s\xe4ker p\xe5 att du vill radera {fileName}?",language:"Spr\xe5k"},intro:{description:"Detta \xe4r en webbport av det ursprungliga Diablo-spelet, baserat p\xe5 k\xe4llkod rekonstruerad av GalaXyHaXz och devilution-teamet. Projektsidan med information och l\xe4nkar kan hittas h\xe4r",gameOwnership:"Om du \xe4ger det ursprungliga spelet kan du dra den ursprungliga DIABDAT.MPQ till denna sida eller klicka p\xe5 knappen nedan f\xf6r att b\xf6rja spela. Spelet kan k\xf6pas fr\xe5n",purchaseComplete:".",compressionOption:"Klicka h\xe4r f\xf6r att komprimera MPQ:n, vilket avsev\xe4rt minskar dess storlek.",sharewareOption:"Eller s\xe5 kan du spela shareware-versionen gratis (weboptimerad, ~25MB nedladdning)."},errors:{errorOccurred:"F\xf6ljande fel har uppst\xe5tt:",createIssue:"Klicka f\xf6r att skapa ett issue p\xe5 GitHub",invalidMPQ:"V\xe4lj en MPQ-fil. Om du laddade ner installationsprogrammet fr\xe5n GoG m\xe5ste du installera det p\xe5 PC och anv\xe4nda MPQ-filen fr\xe5n installationsmappen."},playerClass:{0:"Krigare",1:"Skurk",2:"Trollkarl"},compression:{description:"Du kan anv\xe4nda detta verktyg f\xf6r att minska den ursprungliga MPQ:n till ungef\xe4r h\xe4lften av sin storlek. Det kodar ljud i MP3-format och anv\xe4nder b\xe4ttre komprimering f\xf6r vanliga filer. F\xf6r att b\xf6rja, klicka p\xe5 knappen nedan eller dra MPQ:n till sidan.",processing:"Bearbetar...",downloadPrompt:"Klicka h\xe4r om nedladdningen inte startar."},progress:{loading:"Laddar...",processing:"Bearbetar...",initializing:"Initierar...",downloading:"Laddar ner..."}}},function(e){e.exports={ui:{loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",manageSaves:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f\u043c\u0438",uploadSave:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435",back:"\u041d\u0430\u0437\u0430\u0434",selectMPQ:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c MPQ",playShareware:"\u0418\u0433\u0440\u0430\u0442\u044c Shareware",downloadSave:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f",deleteSave:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c {fileName}?",language:"\u042f\u0437\u044b\u043a"},intro:{description:"\u042d\u0442\u043e \u0432\u0435\u0431-\u043f\u043e\u0440\u0442 \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u0438\u0433\u0440\u044b Diablo, \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043d\u0430 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u043c \u043a\u043e\u0434\u0435, \u0440\u0435\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c GalaXyHaXz \u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 devilution. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u0438 \u0441\u0441\u044b\u043b\u043a\u0430\u043c\u0438 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0437\u0434\u0435\u0441\u044c",gameOwnership:"\u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0438\u0433\u0440\u0430, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u044c \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 DIABDAT.MPQ \u043d\u0430 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438\u043b\u0438 \u043d\u0430\u0436\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443 \u043d\u0438\u0436\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0430\u0442\u044c. \u0418\u0433\u0440\u0443 \u043c\u043e\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0442\u044c \u0432",purchaseComplete:".",compressionOption:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u0441\u0436\u0430\u0442\u044c MPQ, \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0432 \u0435\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440.",sharewareOption:"\u0418\u043b\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0433\u0440\u0430\u0442\u044c \u0432 shareware \u0432\u0435\u0440\u0441\u0438\u044e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e (\u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0434\u043b\u044f \u0432\u0435\u0431\u0430, \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ~25\u041c\u0411)."},errors:{errorOccurred:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430:",createIssue:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c issue \u043d\u0430 GitHub",invalidMPQ:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b MPQ. \u0415\u0441\u043b\u0438 \u0432\u044b \u0441\u043a\u0430\u0447\u0430\u043b\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0449\u0438\u043a \u0441 GoG, \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u043d\u0430 \u041f\u041a \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b MPQ \u0438\u0437 \u043f\u0430\u043f\u043a\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438."},playerClass:{0:"\u0412\u043e\u0438\u043d",1:"\u041f\u043b\u0443\u0442",2:"\u0427\u0430\u0440\u043e\u0434\u0435\u0439"},compression:{description:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e MPQ \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \u0432\u0434\u0432\u043e\u0435. \u041e\u043d \u043a\u043e\u0434\u0438\u0440\u0443\u0435\u0442 \u0437\u0432\u0443\u043a\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442 MP3 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043b\u0443\u0447\u0448\u0435\u0435 \u0441\u0436\u0430\u0442\u0438\u0435 \u0434\u043b\u044f \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432. \u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 \u043d\u0438\u0436\u0435 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 MPQ \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443.",processing:"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430...",downloadPrompt:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c, \u0435\u0441\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0435 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f."},progress:{loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",processing:"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430...",initializing:"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f...",downloading:"\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435..."}}},,function(e,t,r){e.exports=function(){return new Worker(r.p+"944f146ef3ad57d4dff1.worker.js")}},,function(e,t,r){e.exports=function(){return new Worker(r.p+"2384231be07b27379035.worker.js")}},function(e,t,r){e.exports=r.p+"static/media/MpqCmp.8aa3c6dc.wasm"},function(e,t,r){e.exports=r.p+"static/media/ListFile.b370797d.txt"},function(e,t,r){e.exports=r(81)},,,,,function(e,t,r){},function(e,t,r){},,,,,function(e,t,r){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(27),o=r.n(i);r(52);const s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=(()=>{const r=e.installing;null!=r&&(r.onstatechange=(()=>{"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}))})}).catch(e=>{console.error("Error during service worker registration:",e)})}r(53);var c=r(3),u=r.n(c),d=r(10),h=r(13),p=r(15);const f=0,g=1,m=0,b=1,w=2,v=3,y=4,k=0,P=1,S=new Uint8Array([2,4,4,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]),M=new Uint8Array([3,13,5,25,9,17,1,62,30,46,14,54,22,38,6,58,26,42,10,50,18,34,66,2,124,60,92,28,108,44,76,12,116,52,84,20,100,36,68,4,120,56,88,24,104,40,72,8,240,112,176,48,208,80,144,16,224,96,160,32,192,64,128,0]),C=new Uint8Array([0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8]),_=new Uint16Array([0,1,2,3,4,5,6,7,8,10,14,22,38,70,134,262]),E=new Uint8Array([3,2,3,3,4,4,4,5,5,5,5,6,6,6,7,7]),O=new Uint8Array([5,3,1,6,10,2,12,20,4,24,8,48,16,32,64,0]),A=new Uint8Array([11,12,12,12,12,12,12,12,12,8,7,12,12,7,12,12,12,12,12,12,12,12,12,12,12,12,13,12,12,12,12,12,4,10,8,12,10,12,10,8,7,7,8,9,7,6,7,8,7,6,7,7,7,7,8,7,7,8,8,12,11,7,9,11,12,6,7,6,6,5,7,8,8,6,11,9,6,7,6,6,7,11,6,6,6,7,9,8,9,9,11,8,11,9,12,8,12,5,6,6,6,5,6,6,6,5,11,7,5,6,5,5,6,10,5,5,5,5,8,7,8,8,10,11,11,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,12,13,13,13,12,13,13,13,12,13,13,13,13,12,13,13,13,12,12,12,13,13,13,13,13,13,13,13,13,13,13]),D=new Uint16Array([1168,4064,2016,3040,992,3552,1504,2528,480,184,98,3808,1760,34,2784,736,3296,1248,2272,224,3936,1888,2912,864,3424,1376,4672,2400,352,3680,1632,2656,15,592,56,608,80,3168,912,216,66,2,88,432,124,41,60,152,92,9,28,108,44,76,24,12,116,232,104,1120,144,52,176,1808,2144,49,84,17,33,23,20,168,40,1,784,304,62,100,30,46,36,1296,14,54,22,68,48,200,464,208,272,72,1552,336,96,136,4e3,7,38,6,58,27,26,42,10,11,528,4,19,50,3,29,18,400,13,21,5,25,8,120,240,112,656,1040,16,1952,2976,928,576,7232,3136,5184,1088,6208,2112,4160,64,8064,3968,6016,1920,7040,2944,4992,896,7552,3456,5504,1408,6528,2432,4480,384,7808,3712,5760,1664,6784,2688,4736,640,7296,3200,5248,1152,6272,2176,4224,128,7936,3840,5888,1792,6912,2816,4864,3488,1440,2464,416,3744,1696,2720,672,3232,1184,2208,160,3872,1824,2848,800,3360,1312,2336,288,3616,1568,2592,544,3104,1056,2080,32,4032,1984,3008,960,3520,1472,2496,448,3776,1728,2752,704,3264,1216,2240,192,3904,1856,2880,832,768,3392,7424,3328,5376,1344,1280,6400,2304,2368,4352,256,7680,3584,320,5632,1536,6656,3648,1600,2624,2560,4608,512,7168,3072,5120,1024,6144,2048,4096,0]);function x(e,t,r,n){for(let a=0;a<n;a++){const n=1<<r[a];for(let r=t[a];r<256;r+=n)e[r]=a}}function z(e,t){if(t<=e.extra_bits)return e.extra_bits-=t,e.bit_buff>>>=t,k;if(e.bit_buff>>=e.extra_bits,e.in_pos===e.in_bytes){if(0===(e.in_bytes=e.read_buf(e.in_buff)))return P;e.in_pos=0}return e.bit_buff|=e.in_buff[e.in_pos++]<<8,e.bit_buff>>>=t-e.extra_bits,e.extra_bits=e.extra_bits-t+8,k}function L(e){if(1&e.bit_buff){if(z(e,1))return 774;let t=e.LengthCodes[255&e.bit_buff];if(z(e,e.LenBits[t]))return 774;const r=e.ExLenBits[t];if(0!==r){const n=e.bit_buff&(1<<r)-1;if(z(e,r)&&t+n!==270)return 774;t=e.LenBase[t]+n}return t+256}if(z(e,1))return 774;if(e.ctype===f){const t=255&e.bit_buff;return z(e,8)?774:t}let t;if(255&e.bit_buff){if(255===(t=e.offs2C34[255&e.bit_buff]))if(63&e.bit_buff){if(z(e,4))return 774;t=e.offs2D34[255&e.bit_buff]}else{if(z(e,6))return 774;t=e.offs2E34[127&e.bit_buff]}}else{if(z(e,8))return 774;t=e.offs2EB4[255&e.bit_buff]}return z(e,e.ChBitsAsc[t])?774:t}function j(e,t){const r=e.DistPosCodes[255&e.bit_buff];if(z(e,e.DistBits[r]))return 0;let n;if(2===t){if(n=r<<2|3&e.bit_buff,z(e,2))return 0}else if(n=r<<e.dsize_bits|e.bit_buff&e.dsize_mask,z(e,e.dsize_bits))return 0;return n+1}function T(e,t){const r=new ArrayBuffer(12548),n={read_buf:e,write_buf:t,in_pos:3,extra_bits:0,in_buff:new Uint8Array(r,0,2048),DistPosCodes:new Uint8Array(r,2048,256),LengthCodes:new Uint8Array(r,2304,256),offs2C34:new Uint8Array(r,2560,256),offs2D34:new Uint8Array(r,2816,256),offs2E34:new Uint8Array(r,3072,128),offs2EB4:new Uint8Array(r,3200,256),ChBitsAsc:new Uint8Array(r,3456,256),DistBits:new Uint8Array(r,3712,64),LenBits:new Uint8Array(r,3776,16),ExLenBits:new Uint8Array(r,3792,16),LenBase:new Uint16Array(r,3808,16),out_buff:new Uint8Array(r,3840,8708)};if(n.in_bytes=e(n.in_buff),n.in_bytes<=4)return v;if(n.ctype=n.in_buff[0],n.dsize_bits=n.in_buff[1],n.bit_buff=n.in_buff[2],4>n.dsize_bits||n.dsize_bits>6)return b;if(n.dsize_mask=65535>>16-n.dsize_bits,n.ctype!==f){if(n.ctype!==g)return w;n.ChBitsAsc.set(A),function(e){let t=255;for(let r=255;t>=0;t--,r--){let n,a=e.ChBitsAsc[r];if(a<=8){const i=1<<a;n=D[t];do{e.offs2C34[n]=r,n+=i}while(n<256)}else if(0!==(n=255&D[t]))if(e.offs2C34[n]=255,63&D[t]){a-=4,e.ChBitsAsc[r]=a;const i=1<<a;n=D[t]>>4;do{e.offs2D34[n]=r,n+=i}while(n<256)}else{a-=6,e.ChBitsAsc[r]=a;const i=1<<a;n=D[t]>>6;do{e.offs2E34[n]=r,n+=i}while(n<128)}else{a-=8,e.ChBitsAsc[r]=a;const i=1<<a;n=D[t]>>8;do{e.offs2EB4[n]=r,n+=i}while(n<256)}}}(n)}return n.LenBits.set(E),x(n.LengthCodes,O,n.LenBits,n.LenBits.length),n.ExLenBits.set(C),n.LenBase.set(_),n.DistBits.set(S),x(n.DistPosCodes,M,n.DistBits,n.DistBits.length),774!==function(e){let t,r,n=4096;for(;(t=r=L(e))<773;){if(r>=256){let a=r-254;const i=j(e,a);if(0===i){t=774;break}let o=n,s=o-i;n+=a;const l=e.out_buff;for(;a-- >0;)l[o++]=l[s++]}else e.out_buff[n++]=r;n>=8192&&(e.write_buf(e.out_buff.subarray(4096,8192)),e.out_buff.copyWithin(0,4096,n),n-=4096)}return e.write_buf(e.out_buff.subarray(4096,n)),t}(n)?m:y}function B(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Q=new Uint32Array(80),N=(e,t)=>t<<e|t>>32-e;class I{input8(e){const t=new Uint32Array(e.buffer,e.byteOffset,16);this.input(t)}input(e){this.count+=32*e.length;for(let o=0;o<16;++o)Q[o]=e[o];for(let o=16;o<80;++o)Q[o]=Q[o-16]^Q[o-14]^Q[o-8]^Q[o-3];let t=this.digest[0],r=this.digest[1],n=this.digest[2],a=this.digest[3],i=this.digest[4];for(let o=0;o<20;o++){const e=N(5,t)+(r&n|~r&a)+i+Q[o]+1518500249;i=a,a=n,n=N(30,r),r=t,t=0|e}for(let o=20;o<40;o++){const e=N(5,t)+(r^n^a)+i+Q[o]+1859775393;i=a,a=n,n=N(30,r),r=t,t=0|e}for(let o=40;o<60;o++){const e=N(5,t)+(r&n|r&a|n&a)+i+Q[o]+2400959708;i=a,a=n,n=N(30,r),r=t,t=0|e}for(let o=60;o<80;o++){const e=N(5,t)+(r^n^a)+i+Q[o]+3395469782;i=a,a=n,n=N(30,r),r=t,t=0|e}this.digest[0]+=t,this.digest[1]+=r,this.digest[2]+=n,this.digest[3]+=a,this.digest[4]+=i}constructor(){B(this,"digest",new Uint32Array(5)),B(this,"count",0),this.digest[0]=1732584193,this.digest[1]=4023233417,this.digest[2]=2562383102,this.digest[3]=271733878,this.digest[4]=3285377520,this.digest8=new Uint8Array(this.digest.buffer)}}class U{constructor(e){this.seed=e}next(){return this.seed=(3*this.seed<<16)+(67*this.seed<<8)+253*this.seed+2531011|0,this.seed>>16&32767}}function G(e,t){if(e.length<=8)return;const r=e.length-8;if(r%64)return;if(e[r+4])return;const n=e[r+5],a=new Uint8Array(r+n-64),i=function(e){const t=new U(28760),r=new Uint8Array(136),n=new Uint32Array(r.buffer);for(let o=0;o<136;++o)r[o]=t.next();const a=new Uint8Array(64);for(let o=0;o<64;++o)a[o]=e.charCodeAt(o%e.length);let i=new I;i.input8(a);for(let o=0;o<34;++o)n[o]^=i.digest[o%i.digest.length];return(i=new I).input(n.subarray(18)),i}(t),o=r>>2,s=new Uint32Array(e.buffer,e.byteOffset,o+1),l=new Uint32Array(16),c=new Uint8Array(l.buffer);for(let u=0;u<o;u+=16){for(let e=0;e<16;++e)l[e]=s[u+e]^i.digest[e%i.digest.length];i.input(l),a.set(u===o-16?c.subarray(0,n):c,4*u)}return s[o]===i.digest[0]?a:void 0}function q(e,t){if(e.length===t)return e;const r=new Uint8Array(t);let n=0,a=0;return T(function(t){const r=Math.min(e.length-n,t.length);return t.set(e.subarray(n,r)),n+=r,r},function(e){if(a+e.length>t)throw Error("decompress buffer overflow");r.set(e,a),a+=e.length})||a!==t?null:r}const K=function(){const e=new Uint32Array(1280);let t=1048577;for(let r=0;r<256;r++)for(let n=r;n<1280;n+=256){const r=(65535&(t=(125*t+3)%2796203))<<16,a=65535&(t=(125*t+3)%2796203);e[n]=r|a}return e}();function R(e,t){let r=4008636142;for(let n=0;n<e.length;++n)r+=K[1024+(255&t)],e[n]^=r+t,r=e[n]+33*r+3|0,t=286331153+(~t<<21)|t>>>11}function H(e,t){R(new Uint32Array(e.buffer,e.byteOffset,e.length>>2),t)}function F(e,t){let r=4008636142;for(let n=0;n<e.length;++n){r+=K[1024+(255&t)];const a=e[n];e[n]^=r+t,r=a+33*r+3|0,t=286331153+(~t<<21)|t>>>11}}function X(e,t){let r=2146271213,n=4008636142;for(let a=0;a<e.length;++a){let i=e.charCodeAt(a);i>=97&&i<=122&&(i-=32),47===i&&(i=92),n=i+(r=K[256*t+i]^r+n)+33*n+3|0}return r>>>0}function W(e){const t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return e.substring(t+1)}const J={CompressPkWare:256,CompressMulti:512,Compressed:65280,Encrypted:65536,FixSeed:131072,PatchFile:1048576,SingleUnit:16777216,DummyFile:33554432,SectorCrc:67108864,Exists:2147483648};class V{constructor(e){this.buffer=e,this.u8=new Uint8Array(e),this.u32=new Uint32Array(e,0,e.byteLength>>2),this.readHeader()}readHeader(){const{u8:e,u32:t}=this;if(441536589!==t[0])throw Error("invalid MPQ header");const r=e[14]+(e[15]<<8),n=t[4],a=t[5],i=t[6],o=t[7];this.hashTable=this.readTable(n,i,"(hash table)"),this.blockTable=this.readTable(a,o,"(block table)"),this.blockSize=1<<9+r}readTable(e,t,r){const n=new Uint32Array(this.buffer.slice(e,e+16*t));return R(n,X(r,3)),n}fileIndex(e){const{hashTable:t}=this,r=t.length>>2,n=X(e,0)%r,a=X(e,1),i=X(e,2);for(let o=n,s=0;4294967295!==t[4*o+3]&&s<r;o=(o+1)%r,++s)if(t[4*o]===a&&t[4*o+1]===i&&4294967294!==t[4*o+3])return o}readRaw(e){const t=this.fileIndex(e);if(null==t)return;const r=this.hashTable[4*t+3],n={filePos:this.blockTable[4*r],cmpSize:this.blockTable[4*r+1],fileSize:this.blockTable[4*r+2],flags:this.blockTable[4*r+3],key:X(W(e),3)};return n.flags&J.PatchFile||n.filePos+n.cmpSize>this.buffer.byteLength?void 0:(n.flags&J.Compressed||(n.cmpSize=n.fileSize),n.flags&J.FixSeed&&(n.key=n.key+n.filePos^n.fileSize),{info:n,data:new Uint8Array(this.buffer,n.filePos,n.cmpSize)})}read(e){const t=this.readRaw(e);if(!t)return;let{info:r,data:n}=t;if(n=n.slice(),r.flags&J.SingleUnit){if(r.flags&J.Encrypted&&H(n,r.key),r.flags&J.CompressMulti)return;return r.flags&J.CompressPkWare?q(n,r.fileSize):n}if(r.flags&J.Compressed){const e=Math.floor((r.fileSize+this.blockSize-1)/this.blockSize),t=e+1;if(n.length<4*t)return;const a=new Uint32Array(n.buffer,0,t);r.flags&J.Encrypted&&R(a,r.key-1);const i=new Uint8Array(r.fileSize);for(let o=0;o<e;++o){const e=o*this.blockSize,t=Math.min(this.blockSize,r.fileSize-e);if(a[o+1]>n.length)return;let s=n.subarray(a[o],a[o+1]);if(r.flags&J.Encrypted&&H(s,r.key+o),r.flags&J.CompressMulti)return;if(r.flags&J.CompressPkWare&&(s=q(s,t)),!s||s.length!==t)return;i.set(s,e)}return i}if(r.flags&J.Encrypted)for(let a=0;a<r.fileSize;a+=this.blockSize)H(n.subarray(a,Math.min(r.fileSize,a+this.blockSize)),r.key+a/this.blockSize);return n}}const Y={en:r(28),"zh-tw":r(29),"zh-cn":r(30),ja:r(31),ko:r(32),de:r(33),es:r(34),fr:r(35),it:r(36),pt:r(37),nl:r(38),sv:r(39),ru:r(40)};var $=new class{constructor(){this.currentLanguage=this.loadLanguage(),this.listeners=[]}loadLanguage(){const e=localStorage.getItem("diablo-language");if(e&&Y[e])return e;const t=navigator.language||navigator.userLanguage||"en";return t.startsWith("zh")?t.includes("TW")||t.includes("HK")||t.includes("MO")?"zh-tw":(t.includes("CN")||t.includes("SG"),"zh-cn"):t.startsWith("ja")?"ja":t.startsWith("ko")?"ko":t.startsWith("de")?"de":t.startsWith("es")?"es":t.startsWith("fr")?"fr":t.startsWith("it")?"it":t.startsWith("pt")?"pt":t.startsWith("nl")?"nl":t.startsWith("sv")?"sv":t.startsWith("ru")?"ru":"en"}setLanguage(e){Y[e]&&this.currentLanguage!==e&&(this.currentLanguage=e,localStorage.setItem("diablo-language",e),this.notifyListeners())}getCurrentLanguage(){return this.currentLanguage}getAvailableLanguages(){return[{code:"en",name:"English"},{code:"zh-tw",name:"\u7e41\u9ad4\u4e2d\u6587"},{code:"zh-cn",name:"\u7b80\u4f53\u4e2d\u6587"},{code:"ja",name:"\u65e5\u672c\u8a9e"},{code:"ko",name:"\ud55c\uad6d\uc5b4"},{code:"de",name:"Deutsch"},{code:"es",name:"Espa\xf1ol"},{code:"fr",name:"Fran\xe7ais"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugu\xeas"},{code:"nl",name:"Nederlands"},{code:"sv",name:"Svenska"},{code:"ru",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"}]}t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.split(".");let n=Y[this.currentLanguage];for(const a of r){if(!(n&&"object"===typeof n&&a in n)){n=Y.en;for(const t of r){if(!(n&&"object"===typeof n&&t in n))return e;n=n[t]}break}n=n[a]}return"string"===typeof n?n.replace(/\{(\w+)\}/g,(e,r)=>t[r]||e):e}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(t=>t!==e)}notifyListeners(){this.listeners.forEach(e=>e(this.currentLanguage))}};r(58);var Z=()=>{const[e,t]=Object(n.useState)($.getCurrentLanguage()),[r,i]=Object(n.useState)(!1);Object(n.useEffect)(()=>{const e=e=>{t(e)};return $.addListener(e),()=>{$.removeListener(e)}},[]);const o=$.getAvailableLanguages(),s=o.find(t=>t.code===e);return a.a.createElement("div",{className:"language-selector"},a.a.createElement("button",{className:"language-button",onClick:()=>i(!r),"aria-label":$.t("ui.language")},a.a.createElement("span",{role:"img","aria-label":"Language"},"\ud83c\udf10")," ",null===s||void 0===s?void 0:s.name),r&&a.a.createElement("div",{className:"language-dropdown"},o.map(t=>a.a.createElement("button",{key:t.code,className:"language-option ".concat(t.code===e?"active":""),onClick:()=>(e=>{$.setLanguage(e),i(!1)})(t.code)},t.name))))},ee=r(41),te=r(5),re=r(42),ne=r.n(re);function ae(){const e=window.AudioContext||window.webkitAudioContext,t=window.StereoPannerNode;if(!e)return{create_sound:()=>0,duplicate_sound:()=>0,play_sound:()=>void 0,set_volume:()=>void 0,stop_sound:()=>void 0,delete_sound:()=>void 0};let r=null;try{(r=new e).resume()}catch(a){}const n=new Map;return{create_sound_raw(e,a,i,o,s){if(!r)return;const l=r.createBuffer(o,i,s);for(let t=0;t<o;++t)l.getChannelData(t).set(a.subarray(t*i,t*i+i));n.set(e,{buffer:Promise.resolve(l),gain:r.createGain(),panner:t&&new t(r,{pan:0})})},create_sound(e,a){if(!r)return;const i=function(e,t){return new Promise((r,n)=>{e.decodeAudioData(t,r,n)})}(r,a.buffer);n.set(e,{buffer:i,gain:r.createGain(),panner:t&&new t(r,{pan:0})})},duplicate_sound(e,a){if(!r)return;const i=n.get(a);i&&n.set(e,{buffer:i.buffer,gain:r.createGain(),panner:t&&new t(r,{pan:0})})},play_sound(e,t,a,i){const o=n.get(e);if(o){o.source&&o.source.then(e=>e.stop()),o.gain.gain.value=Math.pow(2,t/1e3);const e=Math.pow(2,a/1e3);o.panner&&(o.panner.pan.value=1-2/(1+e)),o.source=o.buffer.then(e=>{const t=r.createBufferSource();t.buffer=e,t.loop=!!i;let n=t.connect(o.gain);return o.panner&&(n=n.connect(o.panner)),n.connect(r.destination),t.start(),t})}},set_volume(e,t){const r=n.get(e);r&&(r.gain.gain.value=Math.pow(2,t/1e3))},stop_sound(e){const t=n.get(e);t&&t.source&&(t.source.then(e=>e.stop()),delete t.source)},delete_sound(e){const t=n.get(e);t&&t.source&&t.source.then(e=>e.stop()),n.delete(e)},stop_all(){for(let[,e]of n)e.source&&e.source.then(e=>e.stop());n.clear(),r=null}}}var ie=r(6),oe=r.n(ie);const se=[50274091,25830791];var le=r(7);class ce{constructor(e){this.buffer=e instanceof Uint8Array?e:new Uint8Array(e),this.pos=0}done(){return this.pos===this.buffer.byteLength}read8(){if(this.pos>=this.buffer.byteLength)throw Error("packet too small");return this.buffer[this.pos++]}read16(){const{pos:e,buffer:t}=this;if(e+2>t.byteLength)throw Error("packet too small");const r=t[e]|t[e+1]<<8;return this.pos+=2,r}read32(){const{pos:e,buffer:t}=this;if(e+4>t.byteLength)throw Error("packet too small");const r=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24;return this.pos+=4,r}read_str(){const e=this.read8(),{pos:t,buffer:r}=this;if(t+e>r.byteLength)throw Error("packet too small");const n=String.fromCharCode(...r.subarray(t,t+e));return this.pos+=e,n}read_buf(){const e=this.read32(),t=this.buffer.subarray(this.pos,this.pos+e);return this.pos+=e,t}}class ue{constructor(e){this.buffer=new Uint8Array(e),this.pos=0}get result(){return this.buffer.buffer}write8(e){return this.buffer[this.pos++]=e,this}write16(e){const{pos:t,buffer:r}=this;return r[t]=e,r[t+1]=e>>8,this.pos+=2,this}write32(e){const{pos:t,buffer:r}=this;return r[t]=e,r[t+1]=e>>8,r[t+2]=e>>16,r[t+3]=e>>24,this.pos+=4,this}write_str(e){const t=e.length;this.write8(t);const{pos:r,buffer:n}=this;for(let a=0;a<t;++a)n[r+a]=e.charCodeAt(a);return this.pos+=t,this}rest(e){return this.buffer.set(e,this.pos),this.pos+=e.byteLength,this}write_buf(e){return this.write32(e.byteLength),this.rest(e),this}}const de={JOIN_SUCCESS:0,JOIN_ALREADY_IN_GAME:1,JOIN_GAME_NOT_FOUND:2,JOIN_INCORRECT_PASSWORD:3,JOIN_VERSION_MISMATCH:4,JOIN_GAME_FULL:5,CREATE_GAME_EXISTS:6};function he(e,t){const r=e.read8(),n=Object.values(t).find(e=>e.code===r);if(!n)throw Error("invalid packet code");return{type:n,packet:n.read(e)}}function pe(e,t){return("function"===typeof e.size?e.size(t):e.size)+1}function fe(e,t){const r=pe(e,t);return e.write(new ue(r).write8(e.code),t).result}function ge(e){return{code:0,read:t=>{const r=t.read16(),n=[];for(let a=0;a<r;++a)n.push(he(t,e()));return n},size:e=>e.reduce((e,t)=>{let{type:r,packet:n}=t;return e+pe(r,n)},2),write:(e,t)=>{e.write16(t.length);for(let{type:r,packet:n}of t)r.write(e.write8(r.code),n);return e}}}const me={info:{code:50,read:e=>({version:e.read32()}),size:4,write:(e,t)=>{let{version:r}=t;return e.write32(r)}},game_list:{code:33,read:e=>{const t=e.read16(),r=[];for(let n=0;n<t;++n)r.push({type:e.read32(),name:e.read_str()});return{games:r}},size:e=>{let{games:t}=e;return t.reduce((e,t)=>{let{name:r}=t;return e+5+r.length},2)},write:(e,t)=>{let{games:r}=t;e.write16(r.length);for(let{type:n,name:a}of r)e.write32(n),e.write_str(a);return e}},join_accept:{code:18,read:e=>({cookie:e.read32(),index:e.read8(),seed:e.read32(),difficulty:e.read32()}),size:13,write:(e,t)=>{let{cookie:r,index:n,seed:a,difficulty:i}=t;return e.write32(r).write8(n).write32(a).write32(i)}},join_reject:{code:21,read:e=>({cookie:e.read32(),reason:e.read8()}),size:5,write:(e,t)=>{let{cookie:r,reason:n}=t;return e.write32(r).write8(n)}},connect:{code:19,read:e=>({id:e.read8()}),size:1,write:(e,t)=>{let{id:r}=t;return e.write8(r)}},disconnect:{code:20,read:e=>({id:e.read8(),reason:e.read32()}),size:5,write:(e,t)=>{let{id:r,reason:n}=t;return e.write8(r).write32(n)}},message:{code:1,read:e=>({id:e.read8(),payload:e.read_buf()}),size:e=>{let{payload:t}=e;return 5+t.byteLength},write:(e,t)=>{let{id:r,payload:n}=t;return e.write8(r).write_buf(n)}},turn:{code:2,read:e=>({id:e.read8(),turn:e.read32()}),size:5,write:(e,t)=>{let{id:r,turn:n}=t;return e.write8(r).write32(n)}},batch:ge(()=>me)},be={info:{code:49,read:e=>({version:e.read32()}),size:4,write:(e,t)=>{let{version:r}=t;return e.write32(r)}},game_list:{code:33,read:()=>({}),size:0,write:e=>e},create_game:{code:34,read:e=>({cookie:e.read32(),name:e.read_str(),password:e.read_str(),difficulty:e.read32()}),size:e=>{let{name:t,password:r}=e;return 10+t.length+r.length},write:(e,t)=>{let{cookie:r,name:n,password:a,difficulty:i}=t;return e.write32(r).write_str(n).write_str(a).write32(i)}},join_game:{code:35,read:e=>({cookie:e.read32(),name:e.read_str(),password:e.read_str()}),size:e=>{let{name:t,password:r}=e;return 6+t.length+r.length},write:(e,t)=>{let{cookie:r,name:n,password:a}=t;return e.write32(r).write_str(n).write_str(a)}},leave_game:{code:36,read:()=>({}),size:0,write:e=>e},drop_player:{code:3,read:e=>({id:e.read8(),reason:e.read32()}),size:5,write:(e,t)=>{let{id:r,reason:n}=t;return e.write8(r).write32(n)}},message:{code:1,read:e=>({id:e.read8(),payload:e.read_buf()}),size:e=>{let{payload:t}=e;return 5+t.byteLength},write:(e,t)=>{let{id:r,payload:n}=t;return e.write8(r).write_buf(n)}},turn:{code:2,read:e=>({turn:e.read32()}),size:4,write:(e,t)=>{let{turn:r}=t;return e.write32(r)}},batch:ge(()=>me)};function we(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ve=e=>"diabloweb_dDv62yHQrZJP28tBEHL_".concat(e),ye={port:443,secure:!0},ke=4;class Pe{constructor(e,t,r,n){let{cookie:a,name:i,password:o,difficulty:s}=t;this.version=e,this.name=i,this.password=o,this.difficulty=s,this.onMessage=r,this.onClose=n,this.peer=new le.a(ve(i),ye),this.peer.on("connection",e=>this.onConnect(e)),this.players=[],this.myplr=0,this.seed=Math.floor(Math.random()*Math.pow(2,32));const l=()=>{r(fe(me.join_reject,{cookie:a,reason:de.CREATE_GAME_EXISTS})),n(),this.peer.off("error",l),this.peer.off("open",c)},c=()=>{setTimeout(()=>{r(fe(me.join_accept,{cookie:a,index:0,seed:this.seed,difficulty:s})),r(fe(me.connect,{id:0}))},0),this.peer.off("error",l),this.peer.off("open",c)};this.peer.on("error",l),this.peer.on("open",c)}onConnect(e){const t={conn:e};e.on("data",r=>{const n=new ce(r),{type:a,packet:i}=he(n,be);switch(a.code){case be.info.code:t.version=i.version;break;case be.join_game.code:if(t.version!==this.version)e.send(fe(me.join_reject,{cookie:i.cookie,reason:de.JOIN_VERSION_MISMATCH}));else if(i.name!==this.name)e.send(fe(me.join_reject,{cookie:i.cookie,reason:de.JOIN_GAME_NOT_FOUND}));else if(i.password!==this.password)e.send(fe(me.join_reject,{cookie:i.cookie,reason:de.JOIN_INCORRECT_PASSWORD}));else{let r=1;for(;r<ke&&this.players[r];)++r;r>=ke?e.send(fe(me.join_reject,{cookie:i.cookie,reason:de.JOIN_GAME_FULL})):(this.players[r]=t,t.id=r,e.send(fe(me.join_accept,{cookie:i.cookie,index:r,seed:this.seed,difficulty:this.difficulty})),this.send(255,fe(me.connect,{id:r})))}break;default:if(null==t.id)return;this.handle(t.id,a.code,i)}if(!n.done())throw Error("packet too large")}),e.on("close",()=>{null!=t.id&&this.drop(t.id,1073741830)})}send(e,t){for(let r=1;r<ke;++r)e&1<<r&&this.players[r]&&this.players[r].conn&&this.players[r].conn.send(t);1&e&&this.onMessage(t)}drop(e,t){if(0===e){for(let e=1;e<ke;++e)this.drop(e,1073741830);this.onMessage(fe(me.disconnect,{id:e,reason:t})),this.peer.destroy(),this.onClose()}else this.players[e]&&(this.send(255,fe(me.disconnect,{id:e,reason:t})),this.players[e].id=null,this.players[e].conn&&this.players[e].conn.close(),this.players[e]=null)}handle(e,t,r){switch(t){case be.leave_game.code:this.drop(e,3);break;case be.drop_player.code:this.drop(r.id,r.reason);break;case be.message.code:this.send(255===r.id?~(1<<e):1<<r.id,fe(me.message,{id:e,payload:r.payload}));break;case be.turn.code:this.send(~(1<<e),fe(me.turn,{id:e,turn:r.turn}));break;default:throw Error("invalid packet ".concat(t))}}}class Se{constructor(e,t,r,n){let{cookie:a,name:i,password:o}=t;we(this,"pending",[]),this.peer=new le.a(ye),this.conn=this.peer.connect(ve(i));let s=!0;const l=()=>{s&&(s=!1,this.peer.off("error",c),this.conn.off("error",c),this.conn.off("open",u),clearTimeout(d))},c=()=>{r(fe(me.join_reject,{cookie:a,reason:de.JOIN_GAME_NOT_FOUND})),n(),l()},u=()=>{this.conn.send(fe(be.info,{version:e})),this.conn.send(fe(be.join_game,{cookie:a,name:i,password:o}));for(let e of this.pending)this.conn.send(e);this.pending=null,this.conn.off("open",u)},d=setTimeout(c,1e4);this.peer.on("error",c),this.conn.on("error",c),this.conn.on("open",u),this.conn.on("data",e=>{l();const t=new ce(e),{type:a,packet:i}=he(t,me);switch(a.code){case me.join_accept.code:this.myplr=i.index;break;case me.join_reject.code:n();break;case me.disconnect.code:"myplr"===i.id&&n()}r(e)}),this.conn.on("close",e=>{n()})}send(e){this.pending?this.pending.push(e):this.conn.send(e)}}async function Me(e,t,r,n){const a=await e.fs;n&&!r&&(e.texts={downloading:$.t("progress.downloading")},await async function(e,t){let r=t.files.get("spawn.mpq");if(r&&!se.includes(r.byteLength)&&(t.files.delete("spawn.mpq"),await t.delete("spawn.mpq"),r=null),!r){const r=await oe.a.request({url:"/chunks/spawn.mpq.meta",responseType:"json",headers:{"Cache-Control":"max-age=31536000"}}),{totalSize:n,numChunks:a}=r.data;if(!se.includes(n))throw Error("Invalid spawn.mpq size. Try clearing cache and refreshing the page.");const i=[];let o=0;const s=(t,r)=>i=>{if(e.onProgress){const o=e.texts?e.texts.downloading:"Downloading";e.onProgress({text:"".concat(o," chunk ").concat(t+1,"/").concat(a,"..."),loaded:r+i.loaded,total:n})}};for(let e=0;e<a;e++){const t=await oe.a.request({url:"/chunks/spawn.mpq.chunk".concat(e.toString().padStart(3,"0")),responseType:"arraybuffer",onDownloadProgress:s(e,o),headers:{"Cache-Control":"max-age=31536000"}});i.push(new Uint8Array(t.data)),o+=t.data.byteLength}const l=new Uint8Array(n);let c=0;for(const e of i)l.set(e,c),c+=e.length;t.files.set("spawn.mpq",l),t.update("spawn.mpq",l.slice())}return t}(e,a));let i=null,o=!1;return i=e.canvas.getContext("2d",{alpha:!1}),await new Promise((s,l)=>{try{const u=new ne.a;let d=[];const h=function(e){let t=null,r=null,n=0;return{send:function(a){const i=new ce(a),{type:o,packet:s}=he(i,be);switch(o.code){case be.info.code:n=s.version;break;case be.create_game.code:t||r?e(fe(me.join_reject,{cookie:s.cookie,reason:de.JOIN_ALREADY_IN_GAME})):t=new Pe(n,s,e,()=>t=null);break;case be.join_game.code:t||r?e(fe(me.join_reject,{cookie:s.cookie,reason:de.JOIN_ALREADY_IN_GAME})):r=new Se(n,s,e,()=>r=null);break;default:if(t)t.handle(0,o.code,s),o.code===be.leave_game.code&&(t=null);else{if(r)return r.send(a),void(o.code===be.leave_game.code&&(r=null));if(o.code!==be.leave_game.code)throw Error("invalid packet ".concat(o.code))}}if(!i.done())throw Error("packet too large")}}}(e=>{d.push(e)});u.addEventListener("message",r=>{let{data:n}=r;switch(n.action){case"loaded":s(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return u.postMessage({action:"event",func:e,params:r})});break;case"render":!function(e,t,r){let{bitmap:n,images:a,text:i,clip:o,belt:s}=r;if(n)t.transferFromImageBitmap(n);else{for(let{x:e,y:r,w:n,h:i,data:o}of a){const a=t.createImageData(n,i);a.data.set(o),t.putImageData(a,e,r)}if(i.length){if(t.save(),t.font="bold 13px Times New Roman",o){const{x0:e,y0:r,x1:n,y1:a}=o;t.beginPath(),t.rect(e,r,n-e,a-r),t.clip()}for(let{x:e,y:r,text:n,color:a}of i){const i=a>>16&255,o=a>>8&255,s=255&a;t.fillStyle="rgb(".concat(i,", ").concat(o,", ").concat(s,")"),t.fillText(n,e,r+22)}t.restore()}}e.updateBelt(s)}(e,i,n.batch);break;case"audio":t[n.func](...n.params);break;case"audioBatch":for(let{func:e,params:r}of n.batch)t[e](...r);break;case"fs":a[n.func](...n.params);break;case"cursor":e.setCursorPos(n.x,n.y);break;case"keyboard":e.openKeyboard(n.rect);break;case"error":t.stop_all(),e.onError(n.error,n.stack);break;case"failed":l({message:n.error,stack:n.stack});break;case"progress":e.onProgress({text:n.text,loaded:n.loaded,total:n.total});break;case"exit":e.onExit();break;case"current_save":e.setCurrentSave(n.name);break;case"packet":h.send(n.buffer);break;case"packetBatch":for(let e of n.batch)h.send(e)}});const p=[];for(let[,e]of a.files)p.push(e.buffer);const f={loading:$.t("progress.loading"),initializing:$.t("progress.initializing")};u.postMessage({action:"init",files:a.files,mpq:r,spawn:n,offscreen:o,texts:f},p),setInterval(()=>{d.length&&(u.postMessage({action:"packetBatch",batch:d},d),d.length=0)},20),delete a.files}catch(c){l(c)}})}var Ce=r(44),_e=r.n(Ce),Ee=r(45),Oe=r.n(Ee),Ae=r(46),De=r.n(Ae);function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ze(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Le=156977,je=75542,Te=(e,t)=>new Promise((r,n)=>{const a=new FileReader;a.onload=(()=>{t&&t({loaded:e.size}),r(a.result)}),a.onerror=(()=>n(a.error)),a.onabort=(()=>n()),t&&a.addEventListener("progress",t),a.readAsArrayBuffer(e)});async function Be(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"arraybuffer";return(await oe.a.request({url:e,responseType:r,onDownloadProgress:t})).data}function Qe(e,t,r){return new Promise((n,a)=>{try{const o=new _e.a;o.addEventListener("message",e=>{let{data:t}=e;switch(t.action){case"result":n({buffer:t.buffer,blocks:t.blocks});break;case"error":a({message:t.error,stack:t.stack});break;case"progress":r(t.value)}}),o.postMessage(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach(function(t){ze(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({action:"run"},e),t)}catch(i){a(i)}})}async function Ne(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{loading:"Loading...",processing:"Processing..."};t(r.loading);const n=[];const a=e=>a=>{e.loaded=a.loaded,t(r.loading,n.reduce((e,t)=>{let{loaded:r,weight:n}=t;return e+r*n},0),n.reduce((e,t)=>{let{total:r,weight:n}=t;return e+r*n},0))},i=e.size,o={loaded:0,weight:1,total:i};o.ready=Te(e.slice(0,32),a(o)),n.push(o);const s={loaded:0,weight:5,total:Le};s.ready=Be(Oe.a,a(s)),n.push(s);const l={loaded:0,weight:5,total:je};l.ready=Be(De.a,a(l),"text"),n.push(l);const c=new Uint32Array(await o.ready),u=new Uint16Array(c.buffer);if(441536589!==c[0])throw Error("invalid MPQ file");const d=1<<9+u[7],h=c[4],p=c[5],f=c[6],g=c[7];if(h+16*f>i||p+16*g>i)throw Error("invalid MPQ file");const m={loaded:0,weight:1,total:16*f},b={loaded:0,weight:1,total:16*g};o.total-=m.total+b.total,m.ready=Te(e.slice(h,h+m.total),a(m)),b.ready=Te(e.slice(p,p+b.total),a(b)),n.push(m,b);const w=new Uint32Array(await m.ready),v=new Uint32Array(await b.ready);R(w,X("(hash table)",3)),R(v,X("(block table)",3));const y=(await l.ready).split("\n").map(e=>e.trim()).filter(e=>e.length),k={},P=(e,t)=>e.toString(16).padStart(8,"0")+t.toString(16).padStart(8,"0");for(let D of y)k[P(X(D,1),X(D,2))]=D;const S=[];for(let D=0;D<4;++D)S.push({entries:[],min:i,max:0,progress:0});for(let D=0;D<w.length/4;++D){const e=w[4*D+3];if(4294967295===e||4294967294===e)continue;if(!k[P(w[4*D],w[4*D+1])]){w[4*D+3]=4294967294;continue}const t=v[4*e],r=v[4*e+1],n=S[Math.floor(4*t/i)];n.entries.push(D),n.min=Math.min(n.min,t),n.max=Math.max(n.max,t+r)}const M=S.reduce((e,t)=>e+t.entries.length,0);o.total=32;for(let D of S)if(D.min<D.max){const t={loaded:0,weight:1,total:D.max-D.min};D.ready=Te(e.slice(D.min,D.max),a(t)).then(e=>D.data=e),n.push(t)}await Promise.all(S.map(e=>e.ready).filter(Boolean));const C=await s.ready;t(r.processing);for(let D of S)if(D.data){const e=new Uint32Array(6*D.entries.length);D.entries.forEach((t,r)=>{const n=w[4*t+3],a=k[P(w[4*t],w[4*t+1])];e[6*r]=v[4*n],e[6*r+1]=v[4*n+1],e[6*r+2]=v[4*n+2],e[6*r+3]=v[4*n+3],e[6*r+4]=X(W(a),3),e[6*r+5]=a.match(/\.wav$/i)?1:0}),D.run=Qe({binary:C,mpq:D.data,input:e,offset:D.min,blockSize:d},[D.data,e.buffer],e=>{D.progress=e;const n=S.reduce((e,t)=>e+t.progress,0);t(r.processing,n,M)}).then(e=>D.result=e)}await Promise.all(S.map(e=>e.run).filter(Boolean));let _=32+m.total+b.total;const E=S.reduce((e,t)=>{let{result:r}=t;return e+(r?r.buffer.byteLength:0)},_),O=[c.buffer,w.buffer,v.buffer];v.fill(0);let A=0;for(let D of S)if(D.result){const{buffer:e,blocks:t}=D.result;for(let r=0;r<D.entries.length;++r){const e=D.entries[r];w[4*e+3]=A+r,t[4*r]+=_}v.set(t,4*A),A+=D.entries.length,O.push(e),_+=e.byteLength}return c[1]=32,c[2]=E,u[6]=1,u[7]=7,c[4]=32,c[5]=32+4*w.length,c[6]=w.length/4,c[7]=v.length/4,F(w,X("(hash table)",3)),F(v,X("(block table)",3)),new Blob(O,{type:"binary/octet-stream"})}function Ie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ue extends a.a.Component{constructor(){super(...arguments),Ie(this,"state",{}),Ie(this,"parseFile",e=>{const t=e.target.files;t.length>0&&this.start(t[0])}),Ie(this,"onDone",e=>{const t=URL.createObjectURL(e);this.setState({url:t});const r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download","DIABDAT.MPQ"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}),Ie(this,"onClose",()=>{this.state.url&&URL.revokeObjectURL(this.state.url),this.props.api.setState({compress:!1})})}onProgress(e){this.setState({progress:e})}onError(e,t){const{api:r}=this.props;r.setState({compress:!1}),r.onError(e,t)}start(e){this.setState({started:!0}),Ne(e,(e,t,r)=>this.onProgress({text:e,loaded:t,total:r}),{loading:$.t("progress.loading"),processing:$.t("progress.processing")}).then(this.onDone,e=>this.onError(e.message,e.stack))}render(){const{url:e,started:t,progress:r}=this.state;return e?a.a.createElement("div",{className:"start"},a.a.createElement("p",null,a.a.createElement("a",{href:e,download:"DIABDAT.MPQ"},$.t("compression.downloadPrompt"))),a.a.createElement("div",{className:"startButton",onClick:this.onClose},$.t("ui.back"))):t?a.a.createElement("div",{className:"loading"},r&&r.text||$.t("compression.processing"),null!=r&&!!r.total&&a.a.createElement("span",{className:"progressBar"},a.a.createElement("span",null,a.a.createElement("span",{style:{width:"".concat(Math.round(100*r.loaded/r.total),"%")}})))):a.a.createElement("div",{className:"start"},a.a.createElement("p",null,$.t("compression.description")),a.a.createElement("form",null,a.a.createElement("label",{htmlFor:"loadFile",className:"startButton"},$.t("ui.selectMPQ")),a.a.createElement("input",{accept:".mpq",type:"file",id:"loadFile",style:{display:"none"},onChange:this.parseFile})),a.a.createElement("div",{className:"startButton",onClick:this.onClose},$.t("ui.back")))}}const Ge=["children"];function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach(function(t){Re(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function He(){return(He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function Fe(e,t){const r=(e.message||"Unknown error")+(e.stack?"\n"+e.stack:""),n=new URL("https://github.com/d07RiV/diabloweb/issues/new");return n.searchParams.set("body","**Description:**\n[Please describe what you were doing before the error occurred]\n\n**App version:**\nDiabloWeb ".concat("1.0.39"," (").concat(t?"Retail":"Shareware",")\n\n**Error message:**\n    \n").concat(r.split("\n").map(e=>"    "+e).join("\n"),"\n\n**User agent:**\n\n    ").concat(navigator.userAgent,"\n\n**Save file:**\n[Please attach the save file, if applicable. The error box should have a link to download the current save you were playing; alternatively, you can open dev console on the game page (F12) and type in ","`DownloadSaves()`","]\n")),n.toString()}window.Peer=le.a,d.a.initialize("UA-43123589-6"),d.a.pageview("/");const Xe=0,We=1,Je=2;let Ve=null;try{Ve=function(){for(let e of document.styleSheets)for(let t of e.cssRules)if(t.type===CSSRule.MEDIA_RULE&&"(min-aspect-ratio: 3/1)"===t.conditionText)for(let e of t.cssRules)if(".App.keyboard .Body .inner"===e.selectorText)return e}()}catch(Ze){}const Ye=e=>{let{children:t}=e,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Ge);return a.a.createElement("a",He({target:"_blank",rel:"noopener noreferrer"},r),t)};var $e=class extends a.a.Component{constructor(e){super(e),Re(this,"files",new Map),Re(this,"state",{started:!1,loading:!1,dropping:0,has_spawn:!1,language:$.getCurrentLanguage()}),Re(this,"cursorPos",{x:0,y:0}),Re(this,"touchControls",!1),Re(this,"touchButtons",[null,null,null,null,null,null,null,null,null,null]),Re(this,"touchCtx",[null,null,null,null,null,null]),Re(this,"touchMods",[!1,!1,!1,!1,!1,!1]),Re(this,"touchBelt",[-1,-1,-1,-1,-1,-1]),Re(this,"maxKeyboard",0),Re(this,"fs",Object(te.a)(!0)),Re(this,"onDrop",e=>{const t=function(e){if(e.dataTransfer.items)for(let t=0;t<e.dataTransfer.items.length;++t)if("file"===e.dataTransfer.items[t].kind)return e.dataTransfer.items[t].getAsFile();if(e.dataTransfer.files.length)return e.dataTransfer.files[0]}(e);t&&(e.preventDefault(),this.compressMpq?this.compressMpq.start(t):this.start(t)),this.setState({dropping:0})}),Re(this,"onDragEnter",e=>{e.preventDefault(),this.setDropping(1)}),Re(this,"onDragOver",e=>{(function(e){if(e.dataTransfer.items)for(let t=0;t<e.dataTransfer.items.length;++t)if("file"===e.dataTransfer.items[t].kind)return!0;return!!e.dataTransfer.files.length})(e)&&e.preventDefault()}),Re(this,"onDragLeave",e=>{this.setDropping(-1)}),Re(this,"showSaves",()=>{!0===this.state.save_names?this.updateSaves().then(()=>this.setState({show_saves:!this.state.show_saves})):this.setState({show_saves:!this.state.show_saves})}),Re(this,"onResize",()=>{document.exitPointerLock()}),Re(this,"onPointerLockChange",()=>{window.screen&&window.innerHeight===window.screen.height&&!this.pointerLocked()&&(this.game("DApi_Key",0,0,27),this.game("DApi_Key",1,0,27))}),Re(this,"onMouseMove",e=>{if(!this.canvas)return;const{x:t,y:r}=this.mousePos(e);this.game("DApi_Mouse",0,0,this.eventMods(e),t,r),e.preventDefault()}),Re(this,"onMouseDown",e=>{if(!this.canvas)return;if(e.target===this.keyboard)return;this.touchControls&&(this.touchControls=!1,this.element.classList.remove("touch"));const{x:t,y:r}=this.mousePos(e);window.screen&&window.innerHeight===window.screen.height&&(this.pointerLocked()||this.canvas.requestPointerLock()),this.game("DApi_Mouse",1,this.mouseButton(e),this.eventMods(e),t,r),e.preventDefault()}),Re(this,"onMouseUp",e=>{if(!this.canvas)return;e.target,this.keyboard;const{x:t,y:r}=this.mousePos(e);this.game("DApi_Mouse",2,this.mouseButton(e),this.eventMods(e),t,r),e.target!==this.keyboard&&e.preventDefault()}),Re(this,"onKeyDown",e=>{this.canvas&&(this.game("DApi_Key",0,this.eventMods(e),e.keyCode),!this.showKeyboard&&e.keyCode>=32&&1===e.key.length?this.game("DApi_Char",e.key.charCodeAt(0)):8!==e.keyCode&&13!==e.keyCode||this.game("DApi_Char",e.keyCode),this.clearKeySel(),this.showKeyboard||(8===e.keyCode||9===e.keyCode||e.keyCode>=112&&e.keyCode<=119)&&e.preventDefault())}),Re(this,"onMenu",e=>{e.preventDefault()}),Re(this,"onKeyUp",e=>{this.canvas&&(this.game("DApi_Key",1,this.eventMods(e),e.keyCode),this.clearKeySel())}),Re(this,"onKeyboard",()=>{this.onKeyboardInner(0)}),Re(this,"onKeyboardBlur",()=>{this.onKeyboardInner(1)}),Re(this,"parseFile",e=>{const t=e.target.files;t.length>0&&this.start(t[0])}),Re(this,"parseSave",e=>{const t=e.target.files;t.length>0&&this.start(t[0])}),Re(this,"touchButton",null),Re(this,"touchCanvas",null),Re(this,"onTouchStart",e=>{if(this.canvas&&e.target!==this.keyboard&&(this.keyboard.blur(),e.preventDefault(),this.updateTouchButton(e.touches,!1))){const{x:t,y:r}=this.mousePos(this.touchCanvas);this.game("DApi_Mouse",0,0,this.eventMods(e),t,r),this.touchMods[Xe]||this.game("DApi_Mouse",1,this.touchMods[We]?2:1,this.eventMods(e),t,r)}}),Re(this,"onTouchMove",e=>{if(this.canvas&&e.target!==this.keyboard&&(e.preventDefault(),this.updateTouchButton(e.touches,!1))){const{x:t,y:r}=this.mousePos(this.touchCanvas);this.game("DApi_Mouse",0,0,this.eventMods(e),t,r)}}),Re(this,"onTouchEnd",e=>{if(!this.canvas)return;e.target===this.keyboard||e.preventDefault();const t=this.touchCanvas;if(this.updateTouchButton(e.touches,!0),t&&!this.touchCanvas){const{x:r,y:n}=this.mousePos(t);this.game("DApi_Mouse",2,1,this.eventMods(e),r,n),this.game("DApi_Mouse",2,2,this.eventMods(e),r,n),!this.touchMods[We]||this.touchButton&&this.touchButton.index===We||this.setTouchMod(We,!1)}document.fullscreenElement||this.element.requestFullscreen()}),Re(this,"setCanvas",e=>this.canvas=e),Re(this,"setElement",e=>this.element=e),Re(this,"setKeyboard",e=>this.keyboard=e),this.setTouch0=this.setTouch_.bind(this,0),this.setTouch1=this.setTouch_.bind(this,1),this.setTouch2=this.setTouch_.bind(this,2),this.setTouch3=this.setTouchBelt_.bind(this,3),this.setTouch4=this.setTouchBelt_.bind(this,4),this.setTouch5=this.setTouchBelt_.bind(this,5),this.setTouch6=this.setTouch_.bind(this,6),this.setTouch7=this.setTouch_.bind(this,7),this.setTouch8=this.setTouch_.bind(this,8),this.setTouch9=this.setTouch_.bind(this,9)}componentDidMount(){document.addEventListener("drop",this.onDrop,!0),document.addEventListener("dragover",this.onDragOver,!0),document.addEventListener("dragenter",this.onDragEnter,!0),document.addEventListener("dragleave",this.onDragLeave,!0),this.handleLanguageChange=(e=>{this.setState({language:e})}),$.addListener(this.handleLanguageChange),this.fs.then(e=>{const t=e.files.get("spawn.mpq");t&&se.includes(t.byteLength)&&this.setState({has_spawn:!0}),[...e.files.keys()].filter(e=>e.match(/\.sv$/i)).length&&this.setState({save_names:!0})})}componentWillUnmount(){this.handleLanguageChange&&$.removeListener(this.handleLanguageChange)}setDropping(e){this.setState(t=>{let{dropping:r}=t;return{dropping:Math.max(r+e,0)}})}onError(e,t){(async()=>{const r={message:e};this.saveName&&(r.save=await(await this.fs).fileUrl(this.saveName)),t?Object(ee.mapStackTrace)(t,e=>{this.setState(t=>{let{error:n}=t;return!n&&{error:Ke(Ke({},r),{},{stack:e.join("\n")})}})}):this.setState(e=>{let{error:t}=e;return!t&&{error:r}})})()}openKeyboard(e){e?(this.showKeyboard={left:"".concat((100*(e[0]-10)/640).toFixed(2),"%"),top:"".concat((100*(e[1]-10)/480).toFixed(2),"%"),width:"".concat((100*(e[2]-e[0]+20)/640).toFixed(2),"%"),height:"".concat((100*(e[3]-e[1]+20)/640).toFixed(2),"%")},this.maxKeyboard=e[4],this.element.classList.add("keyboard"),Object.assign(this.keyboard.style,this.showKeyboard),this.keyboard.focus(),Ve&&(Ve.style.transform="translate(-50%, ".concat((56.25*-(e[1]+e[3])/960).toFixed(2),"vw)"))):(this.showKeyboard=!1,this.element.classList.remove("keyboard"),this.keyboard.blur(),this.keyboard.value="",this.keyboardNum=0)}setCursorPos(e,t){const r=this.canvas.getBoundingClientRect();this.cursorPos={x:r.left+(r.right-r.left)*e/640,y:r.top+(r.bottom-r.top)*t/480},setTimeout(()=>{this.game("DApi_Mouse",0,0,0,e,t)})}onProgress(e){this.setState({progress:e})}onExit(){this.state.error||window.location.reload()}setCurrentSave(e){this.saveName=e}updateSaves(){return this.fs.then(e=>{const t={};[...e.files.keys()].filter(e=>e.match(/\.sv$/i)).forEach(r=>{t[r]=function(e,t){try{const r=G(new V(e).read("hero"),function(e){return e.match(/spawn\d+\.sv/i)?"lshbkfg1":e.match(/share_\d+\.sv/i)?"lshbkfg1":e.match(/multi_\d+\.sv/i)?"szqnlsk1":"xrgyrkj1"}(t)),n=r.indexOf(0,16),a={};return a.name=String.fromCharCode(...r.subarray(16,n)),a.cls=r[48],a.level=r[53],a}catch(Ze){return null}}(e.files.get(r).buffer,r)}),this.setState({save_names:t})})}removeSave(e){window.confirm($.t("ui.deleteSave",{fileName:e}))&&(async()=>{const t=await this.fs;await t.delete(e.toLowerCase()),t.files.delete(e.toLowerCase()),this.updateSaves()})()}downloadSave(e){this.fs.then(t=>t.download(e))}drawBelt(e,t){this.canvas&&this.touchButtons[e]&&(this.touchBelt[e]=t,t>=0?(this.touchButtons[e].style.display="block",this.touchCtx[e].drawImage(this.canvas,205+29*t,357,28,28,0,0,28,28)):this.touchButtons[e].style.display="none")}updateBelt(e){if(e){const t=new Set;let r=3;for(let n=0;n<e.length&&r<6;++n)e[n]>=0&&!t.has(e[n])&&(this.drawBelt(r++,n),t.add(e[n]));for(;r<6;++r)this.drawBelt(r,-1)}else this.drawBelt(3,-1),this.drawBelt(4,-1),this.drawBelt(5,-1)}start(e){if(e&&e.name.match(/\.sv$/i))return void this.fs.then(t=>t.upload(e)).then(()=>{this.updateSaves()});if(this.state.show_saves)return;if(e&&!e.name.match(/\.mpq$/i))return void window.alert($.t("errors.invalidMPQ"));document.removeEventListener("drop",this.onDrop,!0),document.removeEventListener("dragover",this.onDragOver,!0),document.removeEventListener("dragenter",this.onDragEnter,!0),document.removeEventListener("dragleave",this.onDragLeave,!0),this.setState({dropping:0});const t=!(!e||e.name.match(/^spawn\.mpq$/i));var r,n,a;d.a.event({category:"Game",action:t?"Start Retail":"Start Shareware"}),this.setState({loading:!0,retail:t}),(r=this,n=e,a=!t,Me(r,ae(),n,a)).then(e=>{this.game=e,document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("mousedown",this.onMouseDown,!0),document.addEventListener("mouseup",this.onMouseUp,!0),document.addEventListener("keydown",this.onKeyDown,!0),document.addEventListener("keyup",this.onKeyUp,!0),document.addEventListener("contextmenu",this.onMenu,!0),document.addEventListener("touchstart",this.onTouchStart,{passive:!1,capture:!0}),document.addEventListener("touchmove",this.onTouchMove,{passive:!1,capture:!0}),document.addEventListener("touchend",this.onTouchEnd,{passive:!1,capture:!0}),document.addEventListener("pointerlockchange",this.onPointerLockChange),window.addEventListener("resize",this.onResize),this.setState({started:!0})},e=>this.onError(e.message,e.stack))}pointerLocked(){return document.pointerLockElement===this.canvas||document.mozPointerLockElement===this.canvas}mousePos(e){const t=this.canvas.getBoundingClientRect();return this.pointerLocked()?(this.cursorPos.x=Math.max(t.left,Math.min(t.right,this.cursorPos.x+e.movementX)),this.cursorPos.y=Math.max(t.top,Math.min(t.bottom,this.cursorPos.y+e.movementY))):this.cursorPos={x:e.clientX,y:e.clientY},{x:Math.max(0,Math.min(Math.round((this.cursorPos.x-t.left)/(t.right-t.left)*640),639)),y:Math.max(0,Math.min(Math.round((this.cursorPos.y-t.top)/(t.bottom-t.top)*480),479))}}mouseButton(e){switch(e.button){case 0:return 1;case 1:return 4;case 2:return 2;case 3:return 5;case 4:return 6;default:return 1}}eventMods(e){return(e.shiftKey||this.touchMods[Je]?1:0)+(e.ctrlKey?2:0)+(e.altKey?4:0)+(e.touches?8:0)}clearKeySel(){if(this.showKeyboard){const e=this.keyboard.value.length;this.keyboard.setSelectionRange(e,e)}}onKeyboardInner(e){if(this.showKeyboard){const t=this.keyboard.value;let r;if(this.maxKeyboard>0)r=(t.match(/[\x20-\x7E]/g)||[]).join("").substring(0,this.maxKeyboard);else{const e=-this.maxKeyboard;t.match(/^\d*$/)&&(this.keyboardNum=Math.min(t.length?parseInt(t):0,e)),r=this.keyboardNum?this.keyboardNum.toString():""}t!==r&&(this.keyboard.value=r),this.clearKeySel(),this.game("text",r,e)}}setTouchMod(e,t,r){if(e<3)this.touchMods[e]=t,this.touchButtons[e]&&this.touchButtons[e].classList.toggle("active",t);else if(r&&this.touchBelt[e]>=0){const t=performance.now();(!this.beltTime||t-this.beltTime>750)&&(this.game("DApi_Char",49+this.touchBelt[e]),this.beltTime=t)}}updateTouchButton(e,t){let r=null;this.touchControls||(this.touchControls=!0,this.element.classList.add("touch"));const n=this.touchButton;for(let{target:a,identifier:i,clientX:o,clientY:s}of e){if(n&&n.id===i&&this.touchButtons[n.index]===a)return e.length>1&&(n.stick=!1),n.clientX=o,n.clientY=s,this.touchCanvas=[...e].find(e=>e.identifier!==i),this.touchCanvas&&(this.touchCanvas={clientX:this.touchCanvas.clientX,clientY:this.touchCanvas.clientY}),delete this.panPos,null!=this.touchCanvas;const t=this.touchButtons.indexOf(a);t>=0&&!r&&(r={id:i,index:t,stick:!0,original:this.touchMods[t],clientX:o,clientY:s})}if(n&&!r&&t&&n.stick){const e=this.touchButtons[n.index].getBoundingClientRect(),{clientX:t,clientY:r}=n;t>=e.left&&t<e.right&&r>=e.top&&r<e.bottom?this.setTouchMod(n.index,!n.original,!0):this.setTouchMod(n.index,n.original)}else n&&this.setTouchMod(n.index,!1);if(this.touchButton=r,r)r.index<6?(this.setTouchMod(r.index,!0),r.index===Xe?this.setTouchMod(We,!1):r.index===We&&this.setTouchMod(Xe,!1),delete this.panPos):this.game("DApi_Key",0,0,110+r.index);else{if(2===e.length){const t=(e[1].clientX+e[0].clientX)/2,r=(e[1].clientY+e[0].clientY)/2;if(this.panPos){const e=t-this.panPos.x,n=r-this.panPos.y,a=this.canvas.offsetHeight/12;if(Math.max(Math.abs(e),Math.abs(n))>a){let a;a=Math.abs(e)>Math.abs(n)?e>0?37:39:n>0?38:40,this.game("DApi_Key",0,0,a),this.panPos={x:t,y:r}}}else this.game("DApi_Mouse",0,0,24,320,180),this.game("DApi_Mouse",2,1,24,320,180),this.panPos={x:t,y:r};return this.touchCanvas=null,!1}delete this.panPos}return this.touchCanvas=[...e].find(e=>!r||e.identifier!==r.id),this.touchCanvas&&(this.touchCanvas={clientX:this.touchCanvas.clientX,clientY:this.touchCanvas.clientY}),null!=this.touchCanvas}setTouch_(e,t){this.touchButtons[e]=t}setTouchBelt_(e,t){if(this.touchButtons[e]=t,t){const r=document.createElement("canvas");r.width=28,r.height=28,t.appendChild(r),this.touchCtx[e]=r.getContext("2d")}else this.touchCtx[e]=null}renderUi(){const{started:e,loading:t,error:r,progress:n,has_spawn:i,save_names:o,show_saves:s,compress:l}=this.state;return s&&"object"===typeof o?a.a.createElement("div",{className:"start"},a.a.createElement("ul",{className:"saveList"},Object.entries(o).map(e=>{let[t,r]=e;return a.a.createElement("li",{key:t},t,r?a.a.createElement("span",{className:"info"},r.name," (lv. ",r.level," ",$.t("playerClass.".concat(r.cls)),")"):"",a.a.createElement(h.a,{className:"btnDownload",icon:p.a,onClick:()=>this.downloadSave(t)}),a.a.createElement(h.a,{className:"btnRemove",icon:p.b,onClick:()=>this.removeSave(t)}))})),a.a.createElement("form",null,a.a.createElement("label",{htmlFor:"loadFile",className:"startButton"},$.t("ui.uploadSave")),a.a.createElement("input",{accept:".sv",type:"file",id:"loadFile",style:{display:"none"},onChange:this.parseSave})),a.a.createElement("div",{className:"startButton",onClick:()=>this.setState({show_saves:!1})},$.t("ui.back"))):l?a.a.createElement(Ue,{api:this,ref:e=>this.compressMpq=e}):r?a.a.createElement(Ye,{className:"error",href:Fe(r,this.state.retail)},a.a.createElement("p",{className:"header"},$.t("errors.errorOccurred")),a.a.createElement("p",{className:"body"},r.message),a.a.createElement("p",{className:"footer"},$.t("errors.createIssue")),null!=r.save&&a.a.createElement("a",{href:r.save,download:this.saveName},$.t("ui.downloadSave"))):t&&!e?a.a.createElement("div",{className:"loading"},n&&n.text||$.t("ui.loading"),null!=n&&!!n.total&&a.a.createElement("span",{className:"progressBar"},a.a.createElement("span",null,a.a.createElement("span",{style:{width:"".concat(Math.round(100*n.loaded/n.total),"%")}})))):e?void 0:a.a.createElement("div",{className:"start"},a.a.createElement("p",null,$.t("intro.description")," ",a.a.createElement(Ye,{href:"https://github.com/anomixer/diabloweb"},"https://github.com/anomixer/diabloweb")),a.a.createElement("p",null,$.t("intro.gameOwnership")," ",a.a.createElement(Ye,{href:"https://www.gog.com/game/diablo"},"GoG")," ",$.t("intro.purchaseComplete")," ",a.a.createElement("span",{className:"link",onClick:()=>this.setState({compress:!0})},$.t("intro.compressionOption"))),!i&&a.a.createElement("p",null,$.t("intro.sharewareOption")),a.a.createElement("form",null,a.a.createElement("label",{htmlFor:"loadFile",className:"startButton"},$.t("ui.selectMPQ")),a.a.createElement("input",{accept:".mpq",type:"file",id:"loadFile",style:{display:"none"},onChange:this.parseFile})),a.a.createElement("div",{className:"startButton",onClick:()=>this.start()},$.t("ui.playShareware")),!!o&&a.a.createElement("div",{className:"startButton",onClick:this.showSaves},$.t("ui.manageSaves")))}render(){const{started:e,error:t,dropping:r}=this.state;return a.a.createElement("div",{className:u()("App",{touch:this.touchControls,started:e,dropping:r,keyboard:!!this.showKeyboard}),ref:this.setElement},a.a.createElement(Z,null),a.a.createElement("div",{className:"touch-ui touch-mods"},a.a.createElement("div",{className:u()("touch-button","touch-button-0",{active:this.touchMods[0]}),ref:this.setTouch0}),a.a.createElement("div",{className:u()("touch-button","touch-button-1",{active:this.touchMods[1]}),ref:this.setTouch1}),a.a.createElement("div",{className:u()("touch-button","touch-button-2",{active:this.touchMods[2]}),ref:this.setTouch2})),a.a.createElement("div",{className:"touch-ui touch-belt"},a.a.createElement("div",{className:u()("touch-button","touch-button-0"),ref:this.setTouch3}),a.a.createElement("div",{className:u()("touch-button","touch-button-1"),ref:this.setTouch4}),a.a.createElement("div",{className:u()("touch-button","touch-button-2"),ref:this.setTouch5})),a.a.createElement("div",{className:"touch-ui fkeys-left"},a.a.createElement("div",{className:u()("touch-button","touch-button-3"),ref:this.setTouch6}),a.a.createElement("div",{className:u()("touch-button","touch-button-4"),ref:this.setTouch7})),a.a.createElement("div",{className:"touch-ui fkeys-right"},a.a.createElement("div",{className:u()("touch-button","touch-button-5"),ref:this.setTouch8}),a.a.createElement("div",{className:u()("touch-button","touch-button-6"),ref:this.setTouch9})),a.a.createElement("div",{className:"Body"},a.a.createElement("div",{className:"inner"},!t&&a.a.createElement("canvas",{ref:this.setCanvas,width:640,height:480}),a.a.createElement("input",{type:"text",className:"keyboard",onChange:this.onKeyboard,onBlur:this.onKeyboardBlur,ref:this.setKeyboard,spellCheck:!1,style:this.showKeyboard||{}}))),a.a.createElement("div",{className:"BodyV"},this.renderUi()))}};o.a.render(a.a.createElement($e,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat(".","/service-worker.js");s?(function(e,t){fetch(e).then(r=>{const n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):l(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):l(t,e)})}}({onUpdate(){}})}],[[47,2,0,5]]]);
//# sourceMappingURL=main.de01dbff.chunk.js.map